/*******************************************************************************
 * Copyright (c) 2018 VRE4EIC Consortium
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *******************************************************************************/

package forth.ics.isl.data.model.parser;

import java.sql.SQLException;
import java.util.ArrayList;
import java.util.Arrays;
import java.util.LinkedHashSet;
import java.util.List;
import java.util.Set;
import org.json.simple.JSONArray;
import org.json.simple.JSONObject;

/**
 *
 * @author rousakis
 */
public class QueryDataModel {

    private TargetModel targetModel;
    private List<RelatedModel> relatedModels;
    private List<String> selectedGraphs;
    private String selectedGraphsClause;

    public QueryDataModel() {
    }

    public QueryDataModel(JSONObject jsonModel) {
        init(jsonModel);
    }

    public QueryDataModel(String jsonModelString) {
        JSONObject jsonModel = Utils.parse(jsonModelString);
        init(jsonModel);
    }

    private void init(JSONObject jsonModel) {
        selectedGraphs = Utils.getGraphsFromClause((String) jsonModel.get("queryFrom"));
        selectedGraphsClause = (String) jsonModel.get("queryFrom");
        JSONObject queryModel = (JSONObject) jsonModel.get("queryModel");
        targetModel = new TargetModel((JSONObject) queryModel.get("targetModel"));
        this.relatedModels = new ArrayList<>();
        JSONArray related = (JSONArray) queryModel.get("relatedModels");
        boolean containsKeywordFilters = false;
        boolean containsGeoFilters = false;
        for (int i = 0; i < related.size(); i++) {
            RelatedModel relModel = new RelatedModel((JSONObject) related.get(i), selectedGraphs);
            //I have not selected any related models
//            if (relModel.getRelatedName() == null) {
//                break;
//            }
            relatedModels.add(relModel);
            if (relModel.getKeywordSearchPattern() != null || relModel.containsKeywordSearch()) {
                containsKeywordFilters = true;
            }
            if (relModel.getGeoSearchPattern() != null || relModel.containsGeoSearch()) {
                containsGeoFilters = true;
            }
        }
        //check if I have related entities with both keyword and geofilters
        //if so, then use only the filter geosearch.
        if (containsKeywordFilters || containsGeoFilters) {
            for (RelatedModel relModel : relatedModels) {
                relModel.setGeoSearchPattern(relModel.getFilterGeoSearchPattern());
            }
        }
    }

    public TargetModel getTargetModel() {
        return targetModel;
    }

    public List<RelatedModel> getRelatedModels() {
        return relatedModels;
    }

    public List<String> getSelectedGraphs() {
        return selectedGraphs;
    }

    public String getSelectedGraphsClause() {
        return selectedGraphsClause;
    }

    public String toSPARQL() {
        String targetVar = targetModel.getVarName();
        String selectionList = targetModel.getSelectionList(targetVar);
        int relCnt = 0;
        List<String> relEntitiesBlocks = new ArrayList<>();
        boolean relatedExist = true;
        for (RelatedModel relModel : relatedModels) {
            if (!relModel.isNullRelatedModel()) {
//            query.append(relModel.createSPARQLBlock(targetVar, relCnt));
                relEntitiesBlocks.add(relModel.createSPARQLBlock(targetVar, "" + relCnt));
                relCnt++;
            }
        }
        if (relatedModels.size() != relEntitiesBlocks.size()) {
            relatedExist = false;
        }
        StringBuilder query = new StringBuilder();
        query.append("select " + selectionList + " " + getSelectedGraphsClause() + " where {\n");
        query.append(targetModel.getSelectionPattern(targetVar));
        query.append((targetModel.getKeywordSearchPattern(targetVar)).trim() + "\n");
        if (relatedModels.size() > 0 && relEntitiesBlocks.size() > 0 && relatedExist) {
            if (relatedModels.size() == 1 && relEntitiesBlocks.size() == 1) {
                query.append(relEntitiesBlocks.get(0));
            } else {
                String currentBlock = relEntitiesBlocks.get(0);
                for (int i = 1; i < relatedModels.size(); i++) {
                    String block = relEntitiesBlocks.get(i);
                    RelatedModel relModel = relatedModels.get(i);
                    if (relModel.getFilterExp() == FilterExp.AND) {
                        currentBlock = currentBlock + block;
                    } else {
                        currentBlock = "{\n" + currentBlock + "} UNION {\n" + block + "}\n";
                    }
                }
                query.append(currentBlock);
            }
        } else {
            query.append("\n");
        }
        Set<String> queryLines = new LinkedHashSet<>(Arrays.asList(query.toString().split("\\\n")));
        query.setLength(0);
        for (String line : queryLines) {
            query.append(line + "\n");
        }
        query.append("}");
        return query.toString().trim().replaceAll("(?m)^\\s", "");
    }

    public static void main(String[] args) throws SQLException {
        //Person -> OrgUnit
        String json = "{\"queryFrom\":\"from <http://ekt-data> from <http://rcuk-data> from <http://fris-data> from <http://epos-data> from <http://envri-data> \",\"queryModel\":{\"targetModel\":{\"selectedTargetEntity\":{\"selection_pattern\":\"?@#$%VAR%$#@  <http://eurocris.org/ontology/cerif#is_source_of> ?FLES.\\n?FLES <http://eurocris.org/ontology/cerif#has_destination> ?Ser.\\n?FLES <http://eurocris.org/ontology/cerif#has_classification> <http://139.91.183.70:8090/vre4eic/Classification.provenance>.  \\n?Ser <http://eurocris.org/ontology/cerif#has_acronym> ?Service.\\n?@#$%VAR%$#@ rdfs:label ?persName. \\n\",\"keyword_search\":\"?@#$%VAR%$#@ rdfs:label ?persName. \\n?persName bds:search \\\"@#$%TERM%$#@\\\".\",\"geospatial\":\"FALSE\",\"thesaurus\":\"thesaurus/persons-firstAndLastNames.json\",\"name\":\"Person\",\"id\":1,\"queryModel\":{\"geo_query\":\"\",\"query\":\"PREFIX cerif:<http://eurocris.org/ontology/cerif#>\\nselect distinct ?persName ?Service (?pers as ?uri) @#$%FROM%$#@\\nwhere {\\n?pers <http://eurocris.org/ontology/cerif#is_source_of> ?FLES.  \\n?FLES <http://eurocris.org/ontology/cerif#has_destination> ?Ser.  \\n?FLES cerif:has_classification <http://139.91.183.70:8090/vre4eic/Classification.provenance>.  \\n?Ser cerif:has_acronym ?Service.\\n?pers a cerif:Person.  \\n?pers rdfs:label ?persName. \\n?persName bds:search \\\"@#$%TERM%$#@\\\".  \\n?persName bds:relevance ?score. \\n}  ORDER BY desc(?score) ?pers \\n\",\"format\":\"application/json\",\"text_geo_query\":\"\"},\"selection_list\":\"distinct ?persName ?Service (?@#$%VAR%$#@ as ?uri)\",\"uri\":\"http://eurocris.org/ontology/cerif#Person\",\"var_name\":\"pers\"},\"searchTargetKeywords\":\"\",\"selectedTargetRecomentation\":null,\"targetChips\":[]},\"relatedModels\":[{\"id\":0,\"level\":0,\"outerSelectedFilterExpression\":\"\",\"selectedRelation\":{\"name\":\"is member of\",\"uri\":\"http://eurocris.org/ontology/cerif#Person-OrganisationUnit/is%20member%20of\"},\"rangeOfDates\":{\"from\":null,\"fromInputName\":\"\",\"until\":null,\"untilInputName\":\"\"},\"selectedRelatedEntity\":{\"selection_pattern\":\"?@#$%VAR%$#@ <http://eurocris.org/ontology/cerif#is_source_of> ?FLES.\\n?FLES <http://eurocris.org/ontology/cerif#has_destination> ?Ser.\\n?FLES <http://eurocris.org/ontology/cerif#has_classification> <http://139.91.183.70:8090/vre4eic/Classification.provenance>.\\n?Ser <http://eurocris.org/ontology/cerif#has_acronym> ?Service.\\n?@#$%VAR%$#@ <http://eurocris.org/ontology/cerif#has_name> ?orgName.\\n?@#$%VAR%$#@ <http://eurocris.org/ontology/cerif#has_acronym> ?orgAcronym.\",\"keyword_search\":\"?@#$%VAR%$#@ <http://eurocris.org/ontology/cerif#has_name> ?orgName.\\n?orgName bds:search \\\"@#$%TERM%$#@\\\".\",\"geospatial\":true,\"thesaurus\":\"thesaurus/organizationUnits-acronyms.json\",\"name\":\"OrganisationUnit\",\"id\":2,\"queryModel\":{\"geo_query\":\"PREFIX cerif:<http://eurocris.org/ontology/cerif#> \\nselect distinct (?orgName as ?name) (?orgAcronym as ?acronym) ?Service (?org as ?uri) ?east ?west ?north ?south @#$%FROM%$#@ \\nwhere {\\n?org <http://eurocris.org/ontology/cerif#is_source_of> ?FLES.\\n?FLES <http://eurocris.org/ontology/cerif#has_destination> ?Ser.\\n?FLES cerif:has_classification <http://139.91.183.70:8090/vre4eic/Classification.provenance>.\\n?Ser cerif:has_acronym ?Service.\\n?org a cerif:OrganisationUnit.\\n?org cerif:has_name ?orgName.\\n?org cerif:has_acronym ?orgAcronym.\\n?org <http://eurocris.org/ontology/cerif#is_source_of> ?FLE1.\\n?FLE1 <http://eurocris.org/ontology/cerif#has_destination> ?PA.\\n?PA <http://eurocris.org/ontology/cerif#is_source_of> ?FLE2.\\n?FLE2 <http://eurocris.org/ontology/cerif#has_destination> ?GBB.\\n?GBB <http://eurocris.org/ontology/cerif#has_eastBoundaryLongitude> ?east.\\n?GBB <http://eurocris.org/ontology/cerif#has_westBoundaryLongitude> ?west.\\n?GBB <http://eurocris.org/ontology/cerif#has_northBoundaryLatitude> ?north.\\n?GBB <http://eurocris.org/ontology/cerif#has_southBoundaryLatitude> ?south.\\nFILTER(xsd:float(?east) <= @#$%EAST%$#@ && xsd:float(?west) >= @#$%WEST%$#@ && xsd:float(?north) <= @#$%NORTH%$#@ && xsd:float(?south) >= @#$%SOUTH%$#@)\\n}\",\"query\":\"PREFIX cerif:<http://eurocris.org/ontology/cerif#>\\nselect distinct (?orgName as ?name) (?orgAcronym as ?acronym) ?Service (?org as ?uri) @#$%FROM%$#@ \\nwhere {\\n?org <http://eurocris.org/ontology/cerif#is_source_of> ?FLES.\\n?FLES <http://eurocris.org/ontology/cerif#has_destination> ?Ser.\\n?FLES cerif:has_classification <http://139.91.183.70:8090/vre4eic/Classification.provenance>.\\n?Ser cerif:has_acronym ?Service.\\n?org a cerif:OrganisationUnit.\\n?org cerif:has_name ?orgName.\\n?org cerif:has_acronym ?orgAcronym.\\n?orgName bds:search \\\"@#$%TERM%$#@\\\".\\n?orgName bds:relevance ?score.\\n}ORDER BY desc(?score) \\n\",\"format\":\"application/json\",\"text_geo_query\":\"PREFIX cerif:<http://eurocris.org/ontology/cerif#> \\nselect distinct (?orgName as ?name) (?orgAcronym as ?acronym) ?Service (?org as ?uri) ?east ?west ?north ?south @#$%FROM%$#@ \\nwhere {\\n?org <http://eurocris.org/ontology/cerif#is_source_of> ?FLES.\\n?FLES <http://eurocris.org/ontology/cerif#has_destination> ?Ser.\\n?FLES cerif:has_classification <http://139.91.183.70:8090/vre4eic/Classification.provenance>.\\n?Ser cerif:has_acronym ?Service.\\n?org a cerif:OrganisationUnit.\\n?org cerif:has_name ?orgName.\\n?org cerif:has_acronym ?orgAcronym.\\n?org <http://eurocris.org/ontology/cerif#is_source_of> ?FLE1.\\n?FLE1 <http://eurocris.org/ontology/cerif#has_destination> ?PA.\\n?PA <http://eurocris.org/ontology/cerif#is_source_of> ?FLE2.\\n?FLE2 <http://eurocris.org/ontology/cerif#has_destination> ?GBB.\\n?GBB <http://eurocris.org/ontology/cerif#has_eastBoundaryLongitude> ?east.\\n?GBB <http://eurocris.org/ontology/cerif#has_westBoundaryLongitude> ?west.\\n?GBB <http://eurocris.org/ontology/cerif#has_northBoundaryLatitude> ?north.\\n?GBB <http://eurocris.org/ontology/cerif#has_southBoundaryLatitude> ?south.\\nFILTER(xsd:float(?east) <= @#$%EAST%$#@ && xsd:float(?west) >= @#$%WEST%$#@ && xsd:float(?north) <= @#$%NORTH%$#@ && xsd:float(?south) >= @#$%SOUTH%$#@)\\n?orgName bds:search \\\"@#$%TERM%$#@\\\".\\n?orgName bds:relevance ?score.\\n}ORDER BY desc(?score) \\n\"},\"selection_list\":\"distinct (?orgName as ?name) (?orgAcronym as ?acronym) ?Service (?@#$%VAR%$#@ as ?uri)\",\"uri\":\"http://eurocris.org/ontology/cerif#OrganisationUnit\",\"var_name\":\"org\"},\"searchRelatedKeywords\":\"\",\"allRelatedSearchResultsIsSelected\":false,\"allRelatedEntitiesSelectedList\":[{\"name\":\"All Instances Selected\"}],\"selectedRelatedInstanceList\":[],\"shownEntitySearchResults\":false,\"selectedRecomentation\":null,\"relatedChips\":[],\"relatedEntitySearchText\":\"\",\"rowModelList\":[],\"activeRelatedSearchResultsStyle\":\"enabled-style\",\"activeRowModelStyle\":\"enabled-style\"},{\"id\":1,\"level\":0,\"outerSelectedFilterExpression\":\"AND\",\"selectedRelation\":{\"name\":\"is head of department of\",\"uri\":\"http://eurocris.org/ontology/cerif#Person-OrganisationUnit/is%20head%20of%20department%20of\"},\"rangeOfDates\":{\"from\":null,\"fromInputName\":\"\",\"until\":null,\"untilInputName\":\"\"},\"selectedRelatedEntity\":{\"selection_pattern\":\"?@#$%VAR%$#@ <http://eurocris.org/ontology/cerif#is_source_of> ?FLES.\\n?FLES <http://eurocris.org/ontology/cerif#has_destination> ?Ser.\\n?FLES <http://eurocris.org/ontology/cerif#has_classification> <http://139.91.183.70:8090/vre4eic/Classification.provenance>.\\n?Ser <http://eurocris.org/ontology/cerif#has_acronym> ?Service.\\n?@#$%VAR%$#@ <http://eurocris.org/ontology/cerif#has_name> ?orgName.\\n?@#$%VAR%$#@ <http://eurocris.org/ontology/cerif#has_acronym> ?orgAcronym.\",\"keyword_search\":\"?@#$%VAR%$#@ <http://eurocris.org/ontology/cerif#has_name> ?orgName.\\n?orgName bds:search \\\"@#$%TERM%$#@\\\".\",\"geospatial\":true,\"thesaurus\":\"thesaurus/organizationUnits-acronyms.json\",\"name\":\"OrganisationUnit\",\"id\":2,\"queryModel\":{\"geo_query\":\"PREFIX cerif:<http://eurocris.org/ontology/cerif#> \\nselect distinct (?orgName as ?name) (?orgAcronym as ?acronym) ?Service (?org as ?uri) ?east ?west ?north ?south @#$%FROM%$#@ \\nwhere {\\n?org <http://eurocris.org/ontology/cerif#is_source_of> ?FLES.\\n?FLES <http://eurocris.org/ontology/cerif#has_destination> ?Ser.\\n?FLES cerif:has_classification <http://139.91.183.70:8090/vre4eic/Classification.provenance>.\\n?Ser cerif:has_acronym ?Service.\\n?org a cerif:OrganisationUnit.\\n?org cerif:has_name ?orgName.\\n?org cerif:has_acronym ?orgAcronym.\\n?org <http://eurocris.org/ontology/cerif#is_source_of> ?FLE1.\\n?FLE1 <http://eurocris.org/ontology/cerif#has_destination> ?PA.\\n?PA <http://eurocris.org/ontology/cerif#is_source_of> ?FLE2.\\n?FLE2 <http://eurocris.org/ontology/cerif#has_destination> ?GBB.\\n?GBB <http://eurocris.org/ontology/cerif#has_eastBoundaryLongitude> ?east.\\n?GBB <http://eurocris.org/ontology/cerif#has_westBoundaryLongitude> ?west.\\n?GBB <http://eurocris.org/ontology/cerif#has_northBoundaryLatitude> ?north.\\n?GBB <http://eurocris.org/ontology/cerif#has_southBoundaryLatitude> ?south.\\nFILTER(xsd:float(?east) <= @#$%EAST%$#@ && xsd:float(?west) >= @#$%WEST%$#@ && xsd:float(?north) <= @#$%NORTH%$#@ && xsd:float(?south) >= @#$%SOUTH%$#@)\\n}\",\"query\":\"PREFIX cerif:<http://eurocris.org/ontology/cerif#>\\nselect distinct (?orgName as ?name) (?orgAcronym as ?acronym) ?Service (?org as ?uri) @#$%FROM%$#@ \\nwhere {\\n?org <http://eurocris.org/ontology/cerif#is_source_of> ?FLES.\\n?FLES <http://eurocris.org/ontology/cerif#has_destination> ?Ser.\\n?FLES cerif:has_classification <http://139.91.183.70:8090/vre4eic/Classification.provenance>.\\n?Ser cerif:has_acronym ?Service.\\n?org a cerif:OrganisationUnit.\\n?org cerif:has_name ?orgName.\\n?org cerif:has_acronym ?orgAcronym.\\n?orgName bds:search \\\"@#$%TERM%$#@\\\".\\n?orgName bds:relevance ?score.\\n}ORDER BY desc(?score) \\n\",\"format\":\"application/json\",\"text_geo_query\":\"PREFIX cerif:<http://eurocris.org/ontology/cerif#> \\nselect distinct (?orgName as ?name) (?orgAcronym as ?acronym) ?Service (?org as ?uri) ?east ?west ?north ?south @#$%FROM%$#@ \\nwhere {\\n?org <http://eurocris.org/ontology/cerif#is_source_of> ?FLES.\\n?FLES <http://eurocris.org/ontology/cerif#has_destination> ?Ser.\\n?FLES cerif:has_classification <http://139.91.183.70:8090/vre4eic/Classification.provenance>.\\n?Ser cerif:has_acronym ?Service.\\n?org a cerif:OrganisationUnit.\\n?org cerif:has_name ?orgName.\\n?org cerif:has_acronym ?orgAcronym.\\n?org <http://eurocris.org/ontology/cerif#is_source_of> ?FLE1.\\n?FLE1 <http://eurocris.org/ontology/cerif#has_destination> ?PA.\\n?PA <http://eurocris.org/ontology/cerif#is_source_of> ?FLE2.\\n?FLE2 <http://eurocris.org/ontology/cerif#has_destination> ?GBB.\\n?GBB <http://eurocris.org/ontology/cerif#has_eastBoundaryLongitude> ?east.\\n?GBB <http://eurocris.org/ontology/cerif#has_westBoundaryLongitude> ?west.\\n?GBB <http://eurocris.org/ontology/cerif#has_northBoundaryLatitude> ?north.\\n?GBB <http://eurocris.org/ontology/cerif#has_southBoundaryLatitude> ?south.\\nFILTER(xsd:float(?east) <= @#$%EAST%$#@ && xsd:float(?west) >= @#$%WEST%$#@ && xsd:float(?north) <= @#$%NORTH%$#@ && xsd:float(?south) >= @#$%SOUTH%$#@)\\n?orgName bds:search \\\"@#$%TERM%$#@\\\".\\n?orgName bds:relevance ?score.\\n}ORDER BY desc(?score) \\n\"},\"selection_list\":\"distinct (?orgName as ?name) (?orgAcronym as ?acronym) ?Service (?@#$%VAR%$#@ as ?uri)\",\"uri\":\"http://eurocris.org/ontology/cerif#OrganisationUnit\",\"var_name\":\"org\"},\"searchRelatedKeywords\":\"\",\"allRelatedSearchResultsIsSelected\":false,\"allRelatedEntitiesSelectedList\":[{\"name\":\"All Instances Selected\"}],\"selectedRelatedInstanceList\":[],\"shownEntitySearchResults\":false,\"selectedRecomentation\":null,\"relatedChips\":[],\"relatedEntitySearchText\":\"\",\"rowModelList\":[],\"activeRelatedSearchResultsStyle\":\"enabled-style\",\"activeRowModelStyle\":\"enabled-style\"}]}}";
        //Person -> OrgUnit considering instances
//        json = "{\"queryFrom\":\"from <http://ekt-data> from <http://rcuk-data> from <http://fris-data> from <http://epos-data> from <http://envri-data> \",\"queryModel\":{\"targetModel\":{\"selectedTargetEntity\":{\"selection_pattern\":\"?@#$%VAR%$#@  <http://eurocris.org/ontology/cerif#is_source_of> ?FLES.\\n?FLES <http://eurocris.org/ontology/cerif#has_destination> ?Ser.\\n?FLES <http://eurocris.org/ontology/cerif#has_classification> <http://139.91.183.70:8090/vre4eic/Classification.provenance>.  \\n?Ser <http://eurocris.org/ontology/cerif#has_acronym> ?Service.\\n?@#$%VAR%$#@ rdfs:label ?persName. \",\"keyword_search\":\"?@#$%VAR%$#@ rdfs:label ?persName. \\n?persName bds:search \\\"@#$%TERM%$#@\\\".\",\"geospatial\":\"FALSE\",\"thesaurus\":\"thesaurus/persons-firstAndLastNames.json\",\"name\":\"Person\",\"id\":1,\"queryModel\":{\"geo_query\":\"\",\"query\":\"PREFIX cerif:<http://eurocris.org/ontology/cerif#>\\nselect distinct ?persName ?Service (?pers as ?uri) @#$%FROM%$#@\\nwhere {\\n?pers <http://eurocris.org/ontology/cerif#is_source_of> ?FLES.  \\n?FLES <http://eurocris.org/ontology/cerif#has_destination> ?Ser.  \\n?FLES cerif:has_classification <http://139.91.183.70:8090/vre4eic/Classification.provenance>.  \\n?Ser cerif:has_acronym ?Service.\\n?pers a cerif:Person.  \\n?pers rdfs:label ?persName. \\n?persName bds:search \\\"@#$%TERM%$#@\\\".  \\n?persName bds:relevance ?score. \\n}  ORDER BY desc(?score) ?pers \\n\",\"format\":\"application/json\",\"text_geo_query\":\"\"},\"selection_list\":\"distinct ?persName ?Service (?@#$%VAR%$#@ as ?uri)\",\"uri\":\"http://eurocris.org/ontology/cerif#Person\",\"var_name\":\"pers\"},\"searchTargetKeywords\":\"\",\"selectedTargetRecomentation\":null,\"targetChips\":[]},\"relatedModels\":[{\"id\":0,\"level\":0,\"outerSelectedFilterExpression\":\"\",\"selectedRelation\":{\"name\":\"is member of\",\"uri\":\"http://eurocris.org/ontology/cerif#Person-OrganisationUnit/is%20member%20of\"},\"rangeOfDates\":{\"from\":null,\"fromInputName\":\"\",\"until\":null,\"untilInputName\":\"\"},\"selectedRelatedEntity\":{\"selection_pattern\":\"?@#$%VAR%$#@ <http://eurocris.org/ontology/cerif#is_source_of> ?FLES.\\n?FLES <http://eurocris.org/ontology/cerif#has_destination> ?Ser.\\n?FLES <http://eurocris.org/ontology/cerif#has_classification> <http://139.91.183.70:8090/vre4eic/Classification.provenance>.\\n?Ser <http://eurocris.org/ontology/cerif#has_acronym> ?Service.\\n?@#$%VAR%$#@ <http://eurocris.org/ontology/cerif#has_name> ?orgName.\\n?@#$%VAR%$#@ <http://eurocris.org/ontology/cerif#has_acronym> ?orgAcronym.\",\"keyword_search\":\"?@#$%VAR%$#@ <http://eurocris.org/ontology/cerif#has_name> ?orgName.\\n?orgName bds:search \\\"@#$%TERM%$#@\\\".\",\"geospatial\":true,\"thesaurus\":\"thesaurus/organizationUnits-acronyms.json\",\"name\":\"OrganisationUnit\",\"id\":2,\"queryModel\":{\"geo_query\":\"PREFIX cerif:<http://eurocris.org/ontology/cerif#> \\nselect distinct (?orgName as ?name) (?orgAcronym as ?acronym) ?Service (?org as ?uri) ?east ?west ?north ?south @#$%FROM%$#@ \\nwhere {\\n?org <http://eurocris.org/ontology/cerif#is_source_of> ?FLES.\\n?FLES <http://eurocris.org/ontology/cerif#has_destination> ?Ser.\\n?FLES cerif:has_classification <http://139.91.183.70:8090/vre4eic/Classification.provenance>.\\n?Ser cerif:has_acronym ?Service.\\n?org a cerif:OrganisationUnit.\\n?org cerif:has_name ?orgName.\\n?org cerif:has_acronym ?orgAcronym.\\n?org <http://eurocris.org/ontology/cerif#is_source_of> ?FLE1.\\n?FLE1 <http://eurocris.org/ontology/cerif#has_destination> ?PA.\\n?PA <http://eurocris.org/ontology/cerif#is_source_of> ?FLE2.\\n?FLE2 <http://eurocris.org/ontology/cerif#has_destination> ?GBB.\\n?GBB <http://eurocris.org/ontology/cerif#has_eastBoundaryLongitude> ?east.\\n?GBB <http://eurocris.org/ontology/cerif#has_westBoundaryLongitude> ?west.\\n?GBB <http://eurocris.org/ontology/cerif#has_northBoundaryLatitude> ?north.\\n?GBB <http://eurocris.org/ontology/cerif#has_southBoundaryLatitude> ?south.\\nFILTER(xsd:float(?east) <= @#$%EAST%$#@ && xsd:float(?west) >= @#$%WEST%$#@ && xsd:float(?north) <= @#$%NORTH%$#@ && xsd:float(?south) >= @#$%SOUTH%$#@)\\n}\",\"query\":\"PREFIX cerif:<http://eurocris.org/ontology/cerif#>\\nselect distinct (?orgName as ?name) (?orgAcronym as ?acronym) ?Service (?org as ?uri) @#$%FROM%$#@ \\nwhere {\\n?org <http://eurocris.org/ontology/cerif#is_source_of> ?FLES.\\n?FLES <http://eurocris.org/ontology/cerif#has_destination> ?Ser.\\n?FLES cerif:has_classification <http://139.91.183.70:8090/vre4eic/Classification.provenance>.\\n?Ser cerif:has_acronym ?Service.\\n?org a cerif:OrganisationUnit.\\n?org cerif:has_name ?orgName.\\n?org cerif:has_acronym ?orgAcronym.\\n?orgName bds:search \\\"@#$%TERM%$#@\\\".\\n?orgName bds:relevance ?score.\\n}ORDER BY desc(?score) \\n\",\"format\":\"application/json\",\"text_geo_query\":\"PREFIX cerif:<http://eurocris.org/ontology/cerif#> \\nselect distinct (?orgName as ?name) (?orgAcronym as ?acronym) ?Service (?org as ?uri) ?east ?west ?north ?south @#$%FROM%$#@ \\nwhere {\\n?org <http://eurocris.org/ontology/cerif#is_source_of> ?FLES.\\n?FLES <http://eurocris.org/ontology/cerif#has_destination> ?Ser.\\n?FLES cerif:has_classification <http://139.91.183.70:8090/vre4eic/Classification.provenance>.\\n?Ser cerif:has_acronym ?Service.\\n?org a cerif:OrganisationUnit.\\n?org cerif:has_name ?orgName.\\n?org cerif:has_acronym ?orgAcronym.\\n?org <http://eurocris.org/ontology/cerif#is_source_of> ?FLE1.\\n?FLE1 <http://eurocris.org/ontology/cerif#has_destination> ?PA.\\n?PA <http://eurocris.org/ontology/cerif#is_source_of> ?FLE2.\\n?FLE2 <http://eurocris.org/ontology/cerif#has_destination> ?GBB.\\n?GBB <http://eurocris.org/ontology/cerif#has_eastBoundaryLongitude> ?east.\\n?GBB <http://eurocris.org/ontology/cerif#has_westBoundaryLongitude> ?west.\\n?GBB <http://eurocris.org/ontology/cerif#has_northBoundaryLatitude> ?north.\\n?GBB <http://eurocris.org/ontology/cerif#has_southBoundaryLatitude> ?south.\\nFILTER(xsd:float(?east) <= @#$%EAST%$#@ && xsd:float(?west) >= @#$%WEST%$#@ && xsd:float(?north) <= @#$%NORTH%$#@ && xsd:float(?south) >= @#$%SOUTH%$#@)\\n?orgName bds:search \\\"@#$%TERM%$#@\\\".\\n?orgName bds:relevance ?score.\\n}ORDER BY desc(?score) \\n\"},\"selection_list\":\"distinct (?orgName as ?name) (?orgAcronym as ?acronym) ?Service (?@#$%VAR%$#@ as ?uri)\",\"uri\":\"http://eurocris.org/ontology/cerif#OrganisationUnit\",\"var_name\":\"org\"},\"searchRelatedKeywords\":\"\",\"allRelatedSearchResultsIsSelected\":false,\"allRelatedEntitiesSelectedList\":[{\"name\":\"All Instances Selected\"}],\"selectedRelatedInstanceList\":[{\"name\":{\"xml:lang\":\"en\",\"type\":\"literal\",\"value\":\"WANDA MARIA SZPERLINSKA\"},\"acronym\":{\"type\":\"literal\",\"value\":\"Intrex\"},\"Service\":{\"type\":\"literal\",\"value\":\"EKT CRIS\"},\"uri\":{\"type\":\"uri\",\"value\":\"http://139.91.183.70:8090/vre4eic/EKT.OrgUnit.92956\"},\"isChecked\":true},{\"name\":{\"xml:lang\":\"en\",\"type\":\"literal\",\"value\":\"UNIVERSIDAD TECNICA FEDERICO SANTA MARIA\"},\"acronym\":{\"type\":\"literal\",\"value\":\"UNIVERSIDAD TECNICA FEDERICO SANTA MARIA\"},\"Service\":{\"type\":\"literal\",\"value\":\"EKT CRIS\"},\"uri\":{\"type\":\"uri\",\"value\":\"http://139.91.183.70:8090/vre4eic/EKT.OrgUnit.104474\"},\"isChecked\":true},{\"name\":{\"xml:lang\":\"en\",\"type\":\"literal\",\"value\":\"Maria Tsampoula kai SIA EE\"},\"acronym\":{\"type\":\"literal\",\"value\":\"BIONOVA\"},\"Service\":{\"type\":\"literal\",\"value\":\"EKT CRIS\"},\"uri\":{\"type\":\"uri\",\"value\":\"http://139.91.183.70:8090/vre4eic/EKT.OrgUnit.99443\"},\"isChecked\":true},{\"name\":{\"xml:lang\":\"en\",\"type\":\"literal\",\"value\":\"CELIA MARIA DOS SANTOS FERREIRA\"},\"acronym\":{\"type\":\"literal\",\"value\":\"CMSF\"},\"Service\":{\"type\":\"literal\",\"value\":\"EKT CRIS\"},\"uri\":{\"type\":\"uri\",\"value\":\"http://139.91.183.70:8090/vre4eic/EKT.OrgUnit.105030\"},\"isChecked\":true},{\"name\":{\"xml:lang\":\"en\",\"type\":\"literal\",\"value\":\"JOSE MARIA DAPORTA LEIRO E HIJOS S.L.\"},\"acronym\":{\"type\":\"literal\",\"value\":\"DAPORTA\"},\"Service\":{\"type\":\"literal\",\"value\":\"EKT CRIS\"},\"uri\":{\"type\":\"uri\",\"value\":\"http://139.91.183.70:8090/vre4eic/EKT.OrgUnit.93687\"},\"isChecked\":true},{\"name\":{\"xml:lang\":\"en\",\"type\":\"literal\",\"value\":\"AZIENDA OSPEDALIERA SANTA MARIA DEGLI ANGELI\"},\"acronym\":{\"type\":\"literal\",\"value\":\"MdA Pordenone\"},\"Service\":{\"type\":\"literal\",\"value\":\"EKT CRIS\"},\"uri\":{\"type\":\"uri\",\"value\":\"http://139.91.183.70:8090/vre4eic/EKT.OrgUnit.98773\"},\"isChecked\":true},{\"name\":{\"xml:lang\":\"en\",\"type\":\"literal\",\"value\":\"MARIA SKLODOWSKA-CURIE MEMORIAL CANCER CENTER\"},\"acronym\":{\"type\":\"literal\",\"value\":\"MSCCI\"},\"Service\":{\"type\":\"literal\",\"value\":\"EKT CRIS\"},\"uri\":{\"type\":\"uri\",\"value\":\"http://139.91.183.70:8090/vre4eic/EKT.OrgUnit.106346\"},\"isChecked\":true},{\"name\":{\"xml:lang\":\"en\",\"type\":\"literal\",\"value\":\"ARCISPEDALE SANTA MARIA NUOVA AZIENDA OSPEDALIERA\"},\"acronym\":{\"type\":\"literal\",\"value\":\"ASMN-IRCCS\"},\"Service\":{\"type\":\"literal\",\"value\":\"EKT CRIS\"},\"uri\":{\"type\":\"uri\",\"value\":\"http://139.91.183.70:8090/vre4eic/EKT.OrgUnit.92832\"},\"isChecked\":true}],\"shownEntitySearchResults\":true,\"selectedRecomentation\":null,\"relatedChips\":[],\"relatedEntitySearchText\":\"maria\",\"rowModelList\":[],\"activeRelatedSearchResultsStyle\":\"enabled-style\",\"activeRowModelStyle\":\"enabled-style\"}]}}";
        //Person -> OrgUnit -> Project
//        json = "{\"queryFrom\":\"from <http://ekt-data> from <http://rcuk-data> from <http://fris-data> from <http://epos-data> from <http://envri-data> \",\"queryModel\":{\"targetModel\":{\"selectedTargetEntity\":{\"selection_pattern\":\"?@#$%VAR%$#@  <http://eurocris.org/ontology/cerif#is_source_of> ?FLES.\\n?FLES <http://eurocris.org/ontology/cerif#has_destination> ?Ser.\\n?FLES <http://eurocris.org/ontology/cerif#has_classification> <http://139.91.183.70:8090/vre4eic/Classification.provenance>.  \\n?Ser <http://eurocris.org/ontology/cerif#has_acronym> ?Service.\\n?@#$%VAR%$#@ rdfs:label ?persName. \",\"keyword_search\":\"?@#$%VAR%$#@ rdfs:label ?persName. \\n?persName bds:search \\\"@#$%TERM%$#@\\\".\",\"geospatial\":\"FALSE\",\"thesaurus\":\"thesaurus/persons-firstAndLastNames.json\",\"name\":\"Person\",\"id\":1,\"queryModel\":{\"geo_query\":\"\",\"query\":\"PREFIX cerif:<http://eurocris.org/ontology/cerif#>\\nselect distinct ?persName ?Service (?pers as ?uri) @#$%FROM%$#@\\nwhere {\\n?pers <http://eurocris.org/ontology/cerif#is_source_of> ?FLES.  \\n?FLES <http://eurocris.org/ontology/cerif#has_destination> ?Ser.  \\n?FLES cerif:has_classification <http://139.91.183.70:8090/vre4eic/Classification.provenance>.  \\n?Ser cerif:has_acronym ?Service.\\n?pers a cerif:Person.  \\n?pers rdfs:label ?persName. \\n?persName bds:search \\\"@#$%TERM%$#@\\\".  \\n?persName bds:relevance ?score. \\n}  ORDER BY desc(?score) ?pers \\n\",\"format\":\"application/json\",\"text_geo_query\":\"\"},\"selection_list\":\"distinct ?persName ?Service (?@#$%VAR%$#@ as ?uri)\",\"uri\":\"http://eurocris.org/ontology/cerif#Person\",\"var_name\":\"pers\"},\"searchTargetKeywords\":\"\",\"selectedTargetRecomentation\":null,\"targetChips\":[]},\"relatedModels\":[{\"id\":0,\"level\":0,\"outerSelectedFilterExpression\":\"\",\"selectedRelation\":{\"name\":\"is member of\",\"uri\":\"http://eurocris.org/ontology/cerif#Person-OrganisationUnit/is%20member%20of\"},\"rangeOfDates\":{\"from\":null,\"fromInputName\":\"\",\"until\":null,\"untilInputName\":\"\"},\"selectedRelatedEntity\":{\"selection_pattern\":\"?@#$%VAR%$#@ <http://eurocris.org/ontology/cerif#is_source_of> ?FLES.\\n?FLES <http://eurocris.org/ontology/cerif#has_destination> ?Ser.\\n?FLES <http://eurocris.org/ontology/cerif#has_classification> <http://139.91.183.70:8090/vre4eic/Classification.provenance>.\\n?Ser <http://eurocris.org/ontology/cerif#has_acronym> ?Service.\\n?@#$%VAR%$#@ <http://eurocris.org/ontology/cerif#has_name> ?orgName.\\n?@#$%VAR%$#@ <http://eurocris.org/ontology/cerif#has_acronym> ?orgAcronym.\",\"keyword_search\":\"?@#$%VAR%$#@ <http://eurocris.org/ontology/cerif#has_name> ?orgName.\\n?orgName bds:search \\\"@#$%TERM%$#@\\\".\",\"geospatial\":true,\"thesaurus\":\"thesaurus/organizationUnits-acronyms.json\",\"name\":\"OrganisationUnit\",\"id\":2,\"queryModel\":{\"geo_query\":\"PREFIX cerif:<http://eurocris.org/ontology/cerif#> \\nselect distinct (?orgName as ?name) (?orgAcronym as ?acronym) ?Service (?org as ?uri) ?east ?west ?north ?south @#$%FROM%$#@ \\nwhere {\\n?org <http://eurocris.org/ontology/cerif#is_source_of> ?FLES.\\n?FLES <http://eurocris.org/ontology/cerif#has_destination> ?Ser.\\n?FLES cerif:has_classification <http://139.91.183.70:8090/vre4eic/Classification.provenance>.\\n?Ser cerif:has_acronym ?Service.\\n?org a cerif:OrganisationUnit.\\n?org cerif:has_name ?orgName.\\n?org cerif:has_acronym ?orgAcronym.\\n?org <http://eurocris.org/ontology/cerif#is_source_of> ?FLE1.\\n?FLE1 <http://eurocris.org/ontology/cerif#has_destination> ?PA.\\n?PA <http://eurocris.org/ontology/cerif#is_source_of> ?FLE2.\\n?FLE2 <http://eurocris.org/ontology/cerif#has_destination> ?GBB.\\n?GBB <http://eurocris.org/ontology/cerif#has_eastBoundaryLongitude> ?east.\\n?GBB <http://eurocris.org/ontology/cerif#has_westBoundaryLongitude> ?west.\\n?GBB <http://eurocris.org/ontology/cerif#has_northBoundaryLatitude> ?north.\\n?GBB <http://eurocris.org/ontology/cerif#has_southBoundaryLatitude> ?south.\\nFILTER(xsd:float(?east) <= @#$%EAST%$#@ && xsd:float(?west) >= @#$%WEST%$#@ && xsd:float(?north) <= @#$%NORTH%$#@ && xsd:float(?south) >= @#$%SOUTH%$#@)\\n}\",\"query\":\"PREFIX cerif:<http://eurocris.org/ontology/cerif#>\\nselect distinct (?orgName as ?name) (?orgAcronym as ?acronym) ?Service (?org as ?uri) @#$%FROM%$#@ \\nwhere {\\n?org <http://eurocris.org/ontology/cerif#is_source_of> ?FLES.\\n?FLES <http://eurocris.org/ontology/cerif#has_destination> ?Ser.\\n?FLES cerif:has_classification <http://139.91.183.70:8090/vre4eic/Classification.provenance>.\\n?Ser cerif:has_acronym ?Service.\\n?org a cerif:OrganisationUnit.\\n?org cerif:has_name ?orgName.\\n?org cerif:has_acronym ?orgAcronym.\\n?orgName bds:search \\\"@#$%TERM%$#@\\\".\\n?orgName bds:relevance ?score.\\n}ORDER BY desc(?score) \\n\",\"format\":\"application/json\",\"text_geo_query\":\"PREFIX cerif:<http://eurocris.org/ontology/cerif#> \\nselect distinct (?orgName as ?name) (?orgAcronym as ?acronym) ?Service (?org as ?uri) ?east ?west ?north ?south @#$%FROM%$#@ \\nwhere {\\n?org <http://eurocris.org/ontology/cerif#is_source_of> ?FLES.\\n?FLES <http://eurocris.org/ontology/cerif#has_destination> ?Ser.\\n?FLES cerif:has_classification <http://139.91.183.70:8090/vre4eic/Classification.provenance>.\\n?Ser cerif:has_acronym ?Service.\\n?org a cerif:OrganisationUnit.\\n?org cerif:has_name ?orgName.\\n?org cerif:has_acronym ?orgAcronym.\\n?org <http://eurocris.org/ontology/cerif#is_source_of> ?FLE1.\\n?FLE1 <http://eurocris.org/ontology/cerif#has_destination> ?PA.\\n?PA <http://eurocris.org/ontology/cerif#is_source_of> ?FLE2.\\n?FLE2 <http://eurocris.org/ontology/cerif#has_destination> ?GBB.\\n?GBB <http://eurocris.org/ontology/cerif#has_eastBoundaryLongitude> ?east.\\n?GBB <http://eurocris.org/ontology/cerif#has_westBoundaryLongitude> ?west.\\n?GBB <http://eurocris.org/ontology/cerif#has_northBoundaryLatitude> ?north.\\n?GBB <http://eurocris.org/ontology/cerif#has_southBoundaryLatitude> ?south.\\nFILTER(xsd:float(?east) <= @#$%EAST%$#@ && xsd:float(?west) >= @#$%WEST%$#@ && xsd:float(?north) <= @#$%NORTH%$#@ && xsd:float(?south) >= @#$%SOUTH%$#@)\\n?orgName bds:search \\\"@#$%TERM%$#@\\\".\\n?orgName bds:relevance ?score.\\n}ORDER BY desc(?score) \\n\"},\"selection_list\":\"distinct (?orgName as ?name) (?orgAcronym as ?acronym) ?Service (?@#$%VAR%$#@ as ?uri)\",\"uri\":\"http://eurocris.org/ontology/cerif#OrganisationUnit\",\"var_name\":\"org\"},\"searchRelatedKeywords\":\"\",\"allRelatedSearchResultsIsSelected\":false,\"allRelatedEntitiesSelectedList\":[{\"name\":\"All Instances Selected\"}],\"selectedRelatedInstanceList\":[],\"shownEntitySearchResults\":false,\"selectedRecomentation\":null,\"relatedChips\":[],\"relatedEntitySearchText\":\"\",\"rowModelList\":[{\"id\":3,\"level\":1,\"outerSelectedFilterExpression\":\"\",\"selectedRelation\":{\"name\":\"contributed in\",\"uri\":\"http://eurocris.org/ontology/cerif#OrganisationUnit-Project/contributed%20in\"},\"rangeOfDates\":{\"from\":null,\"fromInputName\":\"\",\"until\":null,\"untilInputName\":\"\"},\"selectedRelatedEntity\":{\"selection_pattern\":\"?@#$%VAR%$#@ <http://eurocris.org/ontology/cerif#is_source_of> ?FLES.\\n?FLES <http://eurocris.org/ontology/cerif#has_destination> ?Ser.\\n?FLES <http://eurocris.org/ontology/cerif#has_classification> <http://139.91.183.70:8090/vre4eic/Classification.provenance>.\\n?Ser <http://eurocris.org/ontology/cerif#has_acronym> ?Service.\\n?@#$%VAR%$#@ <http://eurocris.org/ontology/cerif#has_title> ?projectTitle.\\nOPTIONAL {?@#$%VAR%$#@ <http://eurocris.org/ontology/cerif#has_URI> ?projURI.}\\nBIND(if(bound(?projURI),?projURI,?proj) as ?projectURI).\\n?@#$%VAR%$#@ <http://eurocris.org/ontology/cerif#has_acronym> ?projectAcronym.\\n?@#$%VAR%$#@ rdfs:label ?projName.\\n\",\"keyword_search\":\"?@#$%VAR%$#@ rdfs:label ?projName.\\n?projName bds:search \\\"@#$%TERM%$#@\\\".\",\"geospatial\":\"FALSE\",\"thesaurus\":\"thesaurus/project-acronyms.json\",\"name\":\"Project\",\"id\":7,\"queryModel\":{\"geo_query\":\"\",\"query\":\"PREFIX cerif:<http://eurocris.org/ontology/cerif#>\\nselect distinct (?projectTitle as ?title) ?projectAcronym ?Service (?proj as ?uri) @#$%FROM%$#@ \\nwhere {\\n?proj <http://eurocris.org/ontology/cerif#is_source_of> ?FLES.\\n?FLES <http://eurocris.org/ontology/cerif#has_destination> ?Ser.\\n?FLES cerif:has_classification <http://139.91.183.70:8090/vre4eic/Classification.provenance>.\\n?Ser cerif:has_acronym ?Service.\\n?proj a cerif:Project.\\n?proj cerif:has_title ?projectTitle.\\nOPTIONAL {?proj cerif:has_URI ?projURI.}\\nBIND(if(bound(?projURI),?projURI,?proj) as ?projectURI).\\n?proj cerif:has_acronym ?projectAcronym.\\n?proj rdfs:label ?projName.\\n?projName bds:search \\\"@#$%TERM%$#@\\\".\\n?projName bds:relevance ?score \\n} ORDER BY desc(?score) \\n\",\"format\":\"application/json\",\"text_geo_query\":\"\"},\"selection_list\":\"distinct (?projectTitle as ?title) ?projName ?projectAcronym ?Service (?@#$%VAR%$#@ as ?projectURI)\",\"uri\":\"http://eurocris.org/ontology/cerif#Project\",\"var_name\":\"proj\"},\"searchRelatedKeywords\":\"\",\"allRelatedSearchResultsIsSelected\":false,\"allRelatedEntitiesSelectedList\":[{\"name\":\"All Instances Selected\"}],\"selectedRelatedInstanceList\":[],\"shownEntitySearchResults\":false,\"selectedRecomentation\":null,\"relatedChips\":[],\"relatedEntitySearchText\":\"\",\"rowModelList\":[],\"activeRelatedSearchResultsStyle\":\"enabled-style\",\"activeRowModelStyle\":\"enabled-style\"}],\"activeRelatedSearchResultsStyle\":\"enabled-style\",\"activeRowModelStyle\":\"enabled-style\"}]}}";
        //Person -> OrgUnit -> Project
        //                  and -> Person
//        json = "{\"queryFrom\":\"from <http://ekt-data> from <http://rcuk-data> from <http://fris-data> from <http://epos-data> from <http://envri-data> \",\"queryModel\":{\"targetModel\":{\"selectedTargetEntity\":{\"selection_pattern\":\"?@#$%VAR%$#@  <http://eurocris.org/ontology/cerif#is_source_of> ?FLES.\\n?FLES <http://eurocris.org/ontology/cerif#has_destination> ?Ser.\\n?FLES <http://eurocris.org/ontology/cerif#has_classification> <http://139.91.183.70:8090/vre4eic/Classification.provenance>.  \\n?Ser <http://eurocris.org/ontology/cerif#has_acronym> ?Service.\\n?@#$%VAR%$#@ rdfs:label ?persName. \\n\",\"keyword_search\":\"?@#$%VAR%$#@ rdfs:label ?persName. \\n?persName bds:search \\\"@#$%TERM%$#@\\\".\",\"geospatial\":\"FALSE\",\"thesaurus\":\"thesaurus/persons-firstAndLastNames.json\",\"name\":\"Person\",\"id\":1,\"queryModel\":{\"geo_query\":\"\",\"query\":\"PREFIX cerif:<http://eurocris.org/ontology/cerif#>\\nselect distinct ?persName ?Service (?pers as ?uri) @#$%FROM%$#@\\nwhere {\\n?pers <http://eurocris.org/ontology/cerif#is_source_of> ?FLES.  \\n?FLES <http://eurocris.org/ontology/cerif#has_destination> ?Ser.  \\n?FLES cerif:has_classification <http://139.91.183.70:8090/vre4eic/Classification.provenance>.  \\n?Ser cerif:has_acronym ?Service.\\n?pers a cerif:Person.  \\n?pers rdfs:label ?persName. \\n?persName bds:search \\\"@#$%TERM%$#@\\\".  \\n?persName bds:relevance ?score. \\n}  ORDER BY desc(?score) ?pers \\n\",\"format\":\"application/json\",\"text_geo_query\":\"\"},\"selection_list\":\"distinct ?persName ?Service (?@#$%VAR%$#@ as ?uri)\",\"uri\":\"http://eurocris.org/ontology/cerif#Person\",\"var_name\":\"pers\"},\"searchTargetKeywords\":\"\",\"selectedTargetRecomentation\":null,\"targetChips\":[]},\"relatedModels\":[{\"id\":0,\"level\":0,\"outerSelectedFilterExpression\":\"\",\"selectedRelation\":{\"name\":\"is member of\",\"uri\":\"http://eurocris.org/ontology/cerif#Person-OrganisationUnit/is%20member%20of\"},\"rangeOfDates\":{\"from\":null,\"fromInputName\":\"\",\"until\":null,\"untilInputName\":\"\"},\"selectedRelatedEntity\":{\"selection_pattern\":\"?@#$%VAR%$#@ <http://eurocris.org/ontology/cerif#is_source_of> ?FLES.\\n?FLES <http://eurocris.org/ontology/cerif#has_destination> ?Ser.\\n?FLES <http://eurocris.org/ontology/cerif#has_classification> <http://139.91.183.70:8090/vre4eic/Classification.provenance>.\\n?Ser <http://eurocris.org/ontology/cerif#has_acronym> ?Service.\\n?@#$%VAR%$#@ <http://eurocris.org/ontology/cerif#has_name> ?orgName.\\n?@#$%VAR%$#@ <http://eurocris.org/ontology/cerif#has_acronym> ?orgAcronym.\",\"keyword_search\":\"?@#$%VAR%$#@ <http://eurocris.org/ontology/cerif#has_name> ?orgName.\\n?orgName bds:search \\\"@#$%TERM%$#@\\\".\",\"geospatial\":true,\"thesaurus\":\"thesaurus/organizationUnits-acronyms.json\",\"name\":\"OrganisationUnit\",\"id\":2,\"queryModel\":{\"geo_query\":\"PREFIX cerif:<http://eurocris.org/ontology/cerif#> \\nselect distinct (?orgName as ?name) (?orgAcronym as ?acronym) ?Service (?org as ?uri) ?east ?west ?north ?south @#$%FROM%$#@ \\nwhere {\\n?org <http://eurocris.org/ontology/cerif#is_source_of> ?FLES.\\n?FLES <http://eurocris.org/ontology/cerif#has_destination> ?Ser.\\n?FLES cerif:has_classification <http://139.91.183.70:8090/vre4eic/Classification.provenance>.\\n?Ser cerif:has_acronym ?Service.\\n?org a cerif:OrganisationUnit.\\n?org cerif:has_name ?orgName.\\n?org cerif:has_acronym ?orgAcronym.\\n?org <http://eurocris.org/ontology/cerif#is_source_of> ?FLE1.\\n?FLE1 <http://eurocris.org/ontology/cerif#has_destination> ?PA.\\n?PA <http://eurocris.org/ontology/cerif#is_source_of> ?FLE2.\\n?FLE2 <http://eurocris.org/ontology/cerif#has_destination> ?GBB.\\n?GBB <http://eurocris.org/ontology/cerif#has_eastBoundaryLongitude> ?east.\\n?GBB <http://eurocris.org/ontology/cerif#has_westBoundaryLongitude> ?west.\\n?GBB <http://eurocris.org/ontology/cerif#has_northBoundaryLatitude> ?north.\\n?GBB <http://eurocris.org/ontology/cerif#has_southBoundaryLatitude> ?south.\\nFILTER(xsd:float(?east) <= @#$%EAST%$#@ && xsd:float(?west) >= @#$%WEST%$#@ && xsd:float(?north) <= @#$%NORTH%$#@ && xsd:float(?south) >= @#$%SOUTH%$#@)\\n}\",\"query\":\"PREFIX cerif:<http://eurocris.org/ontology/cerif#>\\nselect distinct (?orgName as ?name) (?orgAcronym as ?acronym) ?Service (?org as ?uri) @#$%FROM%$#@ \\nwhere {\\n?org <http://eurocris.org/ontology/cerif#is_source_of> ?FLES.\\n?FLES <http://eurocris.org/ontology/cerif#has_destination> ?Ser.\\n?FLES cerif:has_classification <http://139.91.183.70:8090/vre4eic/Classification.provenance>.\\n?Ser cerif:has_acronym ?Service.\\n?org a cerif:OrganisationUnit.\\n?org cerif:has_name ?orgName.\\n?org cerif:has_acronym ?orgAcronym.\\n?orgName bds:search \\\"@#$%TERM%$#@\\\".\\n?orgName bds:relevance ?score.\\n}ORDER BY desc(?score) \\n\",\"format\":\"application/json\",\"text_geo_query\":\"PREFIX cerif:<http://eurocris.org/ontology/cerif#> \\nselect distinct (?orgName as ?name) (?orgAcronym as ?acronym) ?Service (?org as ?uri) ?east ?west ?north ?south @#$%FROM%$#@ \\nwhere {\\n?org <http://eurocris.org/ontology/cerif#is_source_of> ?FLES.\\n?FLES <http://eurocris.org/ontology/cerif#has_destination> ?Ser.\\n?FLES cerif:has_classification <http://139.91.183.70:8090/vre4eic/Classification.provenance>.\\n?Ser cerif:has_acronym ?Service.\\n?org a cerif:OrganisationUnit.\\n?org cerif:has_name ?orgName.\\n?org cerif:has_acronym ?orgAcronym.\\n?org <http://eurocris.org/ontology/cerif#is_source_of> ?FLE1.\\n?FLE1 <http://eurocris.org/ontology/cerif#has_destination> ?PA.\\n?PA <http://eurocris.org/ontology/cerif#is_source_of> ?FLE2.\\n?FLE2 <http://eurocris.org/ontology/cerif#has_destination> ?GBB.\\n?GBB <http://eurocris.org/ontology/cerif#has_eastBoundaryLongitude> ?east.\\n?GBB <http://eurocris.org/ontology/cerif#has_westBoundaryLongitude> ?west.\\n?GBB <http://eurocris.org/ontology/cerif#has_northBoundaryLatitude> ?north.\\n?GBB <http://eurocris.org/ontology/cerif#has_southBoundaryLatitude> ?south.\\nFILTER(xsd:float(?east) <= @#$%EAST%$#@ && xsd:float(?west) >= @#$%WEST%$#@ && xsd:float(?north) <= @#$%NORTH%$#@ && xsd:float(?south) >= @#$%SOUTH%$#@)\\n?orgName bds:search \\\"@#$%TERM%$#@\\\".\\n?orgName bds:relevance ?score.\\n}ORDER BY desc(?score) \\n\"},\"selection_list\":\"distinct (?orgName as ?name) (?orgAcronym as ?acronym) ?Service (?@#$%VAR%$#@ as ?uri)\",\"uri\":\"http://eurocris.org/ontology/cerif#OrganisationUnit\",\"var_name\":\"org\"},\"searchRelatedKeywords\":\"\",\"allRelatedSearchResultsIsSelected\":false,\"allRelatedEntitiesSelectedList\":[{\"name\":\"All Instances Selected\"}],\"selectedRelatedInstanceList\":[],\"shownEntitySearchResults\":false,\"selectedRecomentation\":null,\"relatedChips\":[],\"relatedEntitySearchText\":\"\",\"rowModelList\":[{\"id\":1,\"level\":1,\"outerSelectedFilterExpression\":\"\",\"selectedRelation\":{\"name\":\"is stakeholde of\",\"uri\":\"http://eurocris.org/ontology/cerif#OrganisationUnit-Project/is%20stakeholde%20of\"},\"rangeOfDates\":{\"from\":null,\"fromInputName\":\"\",\"until\":null,\"untilInputName\":\"\"},\"selectedRelatedEntity\":{\"selection_pattern\":\"?@#$%VAR%$#@ <http://eurocris.org/ontology/cerif#is_source_of> ?FLES.\\n?FLES <http://eurocris.org/ontology/cerif#has_destination> ?Ser.\\n?FLES <http://eurocris.org/ontology/cerif#has_classification> <http://139.91.183.70:8090/vre4eic/Classification.provenance>.\\n?Ser <http://eurocris.org/ontology/cerif#has_acronym> ?Service.\\n?@#$%VAR%$#@ <http://eurocris.org/ontology/cerif#has_title> ?projectTitle.\\nOPTIONAL {?@#$%VAR%$#@ <http://eurocris.org/ontology/cerif#has_URI> ?projURI.}\\nBIND(if(bound(?projURI),?projURI,?proj) as ?projectURI).\\n?@#$%VAR%$#@ <http://eurocris.org/ontology/cerif#has_acronym> ?projectAcronym.\\n?@#$%VAR%$#@ rdfs:label ?projName.\\n\",\"keyword_search\":\"?@#$%VAR%$#@ rdfs:label ?projName.\\n?projName bds:search \\\"@#$%TERM%$#@\\\".\",\"geospatial\":\"FALSE\",\"thesaurus\":\"thesaurus/project-acronyms.json\",\"name\":\"Project\",\"id\":7,\"queryModel\":{\"geo_query\":\"\",\"query\":\"PREFIX cerif:<http://eurocris.org/ontology/cerif#>\\nselect distinct (?projectTitle as ?title) ?projectAcronym ?Service (?proj as ?uri) @#$%FROM%$#@ \\nwhere {\\n?proj <http://eurocris.org/ontology/cerif#is_source_of> ?FLES.\\n?FLES <http://eurocris.org/ontology/cerif#has_destination> ?Ser.\\n?FLES cerif:has_classification <http://139.91.183.70:8090/vre4eic/Classification.provenance>.\\n?Ser cerif:has_acronym ?Service.\\n?proj a cerif:Project.\\n?proj cerif:has_title ?projectTitle.\\nOPTIONAL {?proj cerif:has_URI ?projURI.}\\nBIND(if(bound(?projURI),?projURI,?proj) as ?projectURI).\\n?proj cerif:has_acronym ?projectAcronym.\\n?proj rdfs:label ?projName.\\n?projName bds:search \\\"@#$%TERM%$#@\\\".\\n?projName bds:relevance ?score \\n} ORDER BY desc(?score) \\n\",\"format\":\"application/json\",\"text_geo_query\":\"\"},\"selection_list\":\"distinct (?projectTitle as ?title) ?projName ?projectAcronym ?Service (?@#$%VAR%$#@ as ?projectURI)\",\"uri\":\"http://eurocris.org/ontology/cerif#Project\",\"var_name\":\"proj\"},\"searchRelatedKeywords\":\"\",\"allRelatedSearchResultsIsSelected\":false,\"allRelatedEntitiesSelectedList\":[{\"name\":\"All Instances Selected\"}],\"selectedRelatedInstanceList\":[],\"shownEntitySearchResults\":false,\"selectedRecomentation\":null,\"relatedChips\":[],\"relatedEntitySearchText\":\"\",\"rowModelList\":[],\"activeRelatedSearchResultsStyle\":\"enabled-style\",\"activeRowModelStyle\":\"enabled-style\"},{\"id\":2,\"level\":1,\"outerSelectedFilterExpression\":\"AND\",\"selectedRelation\":{\"name\":\"has member\",\"uri\":\"http://eurocris.org/ontology/cerif#OrganisationUnit-Person/has%20member\"},\"rangeOfDates\":{\"from\":null,\"fromInputName\":\"\",\"until\":null,\"untilInputName\":\"\"},\"selectedRelatedEntity\":{\"selection_pattern\":\"?@#$%VAR%$#@  <http://eurocris.org/ontology/cerif#is_source_of> ?FLES.\\n?FLES <http://eurocris.org/ontology/cerif#has_destination> ?Ser.\\n?FLES <http://eurocris.org/ontology/cerif#has_classification> <http://139.91.183.70:8090/vre4eic/Classification.provenance>.  \\n?Ser <http://eurocris.org/ontology/cerif#has_acronym> ?Service.\\n?@#$%VAR%$#@ rdfs:label ?persName. \\n\",\"keyword_search\":\"?@#$%VAR%$#@ rdfs:label ?persName. \\n?persName bds:search \\\"@#$%TERM%$#@\\\".\",\"geospatial\":\"FALSE\",\"thesaurus\":\"thesaurus/persons-firstAndLastNames.json\",\"name\":\"Person\",\"id\":4,\"queryModel\":{\"geo_query\":\"\",\"query\":\"PREFIX cerif:<http://eurocris.org/ontology/cerif#>\\nselect distinct ?persName ?Service (?pers as ?uri) @#$%FROM%$#@\\nwhere {\\n?pers <http://eurocris.org/ontology/cerif#is_source_of> ?FLES.  \\n?FLES <http://eurocris.org/ontology/cerif#has_destination> ?Ser.  \\n?FLES cerif:has_classification <http://139.91.183.70:8090/vre4eic/Classification.provenance>.  \\n?Ser cerif:has_acronym ?Service.\\n?pers a cerif:Person.  \\n?pers rdfs:label ?persName. \\n?persName bds:search \\\"@#$%TERM%$#@\\\".  \\n?persName bds:relevance ?score. \\n}  ORDER BY desc(?score) ?pers \\n\",\"format\":\"application/json\",\"text_geo_query\":\"\"},\"selection_list\":\"distinct ?persName ?Service (?@#$%VAR%$#@ as ?uri)\",\"uri\":\"http://eurocris.org/ontology/cerif#Person\",\"var_name\":\"pers\"},\"searchRelatedKeywords\":\"\",\"allRelatedSearchResultsIsSelected\":false,\"allRelatedEntitiesSelectedList\":[{\"name\":\"All Instances Selected\"}],\"selectedRelatedInstanceList\":[],\"shownEntitySearchResults\":false,\"selectedRecomentation\":null,\"relatedChips\":[],\"relatedEntitySearchText\":\"\",\"rowModelList\":[],\"activeRelatedSearchResultsStyle\":\"enabled-style\",\"activeRowModelStyle\":\"enabled-style\"}],\"activeRelatedSearchResultsStyle\":\"enabled-style\",\"activeRowModelStyle\":\"enabled-style\"}]}}";
        //Person -> OrgUnit -> Project
        //                  or -> Person
        json = "{\"queryFrom\":\"from <http://ekt-data> from <http://rcuk-data> from <http://fris-data> from <http://epos-data> from <http://envri-data> \",\"queryModel\":{\"targetModel\":{\"selectedTargetEntity\":{\"selection_pattern\":\"?@#$%VAR%$#@  <http://eurocris.org/ontology/cerif#is_source_of> ?FLES.\\n?FLES <http://eurocris.org/ontology/cerif#has_destination> ?Ser.\\n?FLES <http://eurocris.org/ontology/cerif#has_classification> <http://139.91.183.70:8090/vre4eic/Classification.provenance>.  \\n?Ser <http://eurocris.org/ontology/cerif#has_acronym> ?Service.\\n?@#$%VAR%$#@ rdfs:label ?persName. \\n\",\"keyword_search\":\"?@#$%VAR%$#@ rdfs:label ?persName. \\n?persName bds:search \\\"@#$%TERM%$#@\\\".\",\"geospatial\":\"FALSE\",\"thesaurus\":\"thesaurus/persons-firstAndLastNames.json\",\"name\":\"Person\",\"id\":1,\"queryModel\":{\"geo_query\":\"\",\"query\":\"PREFIX cerif:<http://eurocris.org/ontology/cerif#>\\nselect distinct ?persName ?Service (?pers as ?uri) @#$%FROM%$#@\\nwhere {\\n?pers <http://eurocris.org/ontology/cerif#is_source_of> ?FLES.  \\n?FLES <http://eurocris.org/ontology/cerif#has_destination> ?Ser.  \\n?FLES cerif:has_classification <http://139.91.183.70:8090/vre4eic/Classification.provenance>.  \\n?Ser cerif:has_acronym ?Service.\\n?pers a cerif:Person.  \\n?pers rdfs:label ?persName. \\n?persName bds:search \\\"@#$%TERM%$#@\\\".  \\n?persName bds:relevance ?score. \\n}  ORDER BY desc(?score) ?pers \\n\",\"format\":\"application/json\",\"text_geo_query\":\"\"},\"selection_list\":\"distinct ?persName ?Service (?@#$%VAR%$#@ as ?uri)\",\"uri\":\"http://eurocris.org/ontology/cerif#Person\",\"var_name\":\"pers\"},\"searchTargetKeywords\":\"\",\"selectedTargetRecomentation\":null,\"targetChips\":[]},\"relatedModels\":[{\"id\":0,\"level\":0,\"outerSelectedFilterExpression\":\"\",\"selectedRelation\":{\"name\":\"is member of\",\"uri\":\"http://eurocris.org/ontology/cerif#Person-OrganisationUnit/is%20member%20of\"},\"rangeOfDates\":{\"from\":null,\"fromInputName\":\"\",\"until\":null,\"untilInputName\":\"\"},\"selectedRelatedEntity\":{\"selection_pattern\":\"?@#$%VAR%$#@ <http://eurocris.org/ontology/cerif#is_source_of> ?FLES.\\n?FLES <http://eurocris.org/ontology/cerif#has_destination> ?Ser.\\n?FLES <http://eurocris.org/ontology/cerif#has_classification> <http://139.91.183.70:8090/vre4eic/Classification.provenance>.\\n?Ser <http://eurocris.org/ontology/cerif#has_acronym> ?Service.\\n?@#$%VAR%$#@ <http://eurocris.org/ontology/cerif#has_name> ?orgName.\\n?@#$%VAR%$#@ <http://eurocris.org/ontology/cerif#has_acronym> ?orgAcronym.\",\"keyword_search\":\"?@#$%VAR%$#@ <http://eurocris.org/ontology/cerif#has_name> ?orgName.\\n?orgName bds:search \\\"@#$%TERM%$#@\\\".\",\"geospatial\":true,\"thesaurus\":\"thesaurus/organizationUnits-acronyms.json\",\"name\":\"OrganisationUnit\",\"id\":2,\"queryModel\":{\"geo_query\":\"PREFIX cerif:<http://eurocris.org/ontology/cerif#> \\nselect distinct (?orgName as ?name) (?orgAcronym as ?acronym) ?Service (?org as ?uri) ?east ?west ?north ?south @#$%FROM%$#@ \\nwhere {\\n?org <http://eurocris.org/ontology/cerif#is_source_of> ?FLES.\\n?FLES <http://eurocris.org/ontology/cerif#has_destination> ?Ser.\\n?FLES cerif:has_classification <http://139.91.183.70:8090/vre4eic/Classification.provenance>.\\n?Ser cerif:has_acronym ?Service.\\n?org a cerif:OrganisationUnit.\\n?org cerif:has_name ?orgName.\\n?org cerif:has_acronym ?orgAcronym.\\n?org <http://eurocris.org/ontology/cerif#is_source_of> ?FLE1.\\n?FLE1 <http://eurocris.org/ontology/cerif#has_destination> ?PA.\\n?PA <http://eurocris.org/ontology/cerif#is_source_of> ?FLE2.\\n?FLE2 <http://eurocris.org/ontology/cerif#has_destination> ?GBB.\\n?GBB <http://eurocris.org/ontology/cerif#has_eastBoundaryLongitude> ?east.\\n?GBB <http://eurocris.org/ontology/cerif#has_westBoundaryLongitude> ?west.\\n?GBB <http://eurocris.org/ontology/cerif#has_northBoundaryLatitude> ?north.\\n?GBB <http://eurocris.org/ontology/cerif#has_southBoundaryLatitude> ?south.\\nFILTER(xsd:float(?east) <= @#$%EAST%$#@ && xsd:float(?west) >= @#$%WEST%$#@ && xsd:float(?north) <= @#$%NORTH%$#@ && xsd:float(?south) >= @#$%SOUTH%$#@)\\n}\",\"query\":\"PREFIX cerif:<http://eurocris.org/ontology/cerif#>\\nselect distinct (?orgName as ?name) (?orgAcronym as ?acronym) ?Service (?org as ?uri) @#$%FROM%$#@ \\nwhere {\\n?org <http://eurocris.org/ontology/cerif#is_source_of> ?FLES.\\n?FLES <http://eurocris.org/ontology/cerif#has_destination> ?Ser.\\n?FLES cerif:has_classification <http://139.91.183.70:8090/vre4eic/Classification.provenance>.\\n?Ser cerif:has_acronym ?Service.\\n?org a cerif:OrganisationUnit.\\n?org cerif:has_name ?orgName.\\n?org cerif:has_acronym ?orgAcronym.\\n?orgName bds:search \\\"@#$%TERM%$#@\\\".\\n?orgName bds:relevance ?score.\\n}ORDER BY desc(?score) \\n\",\"format\":\"application/json\",\"text_geo_query\":\"PREFIX cerif:<http://eurocris.org/ontology/cerif#> \\nselect distinct (?orgName as ?name) (?orgAcronym as ?acronym) ?Service (?org as ?uri) ?east ?west ?north ?south @#$%FROM%$#@ \\nwhere {\\n?org <http://eurocris.org/ontology/cerif#is_source_of> ?FLES.\\n?FLES <http://eurocris.org/ontology/cerif#has_destination> ?Ser.\\n?FLES cerif:has_classification <http://139.91.183.70:8090/vre4eic/Classification.provenance>.\\n?Ser cerif:has_acronym ?Service.\\n?org a cerif:OrganisationUnit.\\n?org cerif:has_name ?orgName.\\n?org cerif:has_acronym ?orgAcronym.\\n?org <http://eurocris.org/ontology/cerif#is_source_of> ?FLE1.\\n?FLE1 <http://eurocris.org/ontology/cerif#has_destination> ?PA.\\n?PA <http://eurocris.org/ontology/cerif#is_source_of> ?FLE2.\\n?FLE2 <http://eurocris.org/ontology/cerif#has_destination> ?GBB.\\n?GBB <http://eurocris.org/ontology/cerif#has_eastBoundaryLongitude> ?east.\\n?GBB <http://eurocris.org/ontology/cerif#has_westBoundaryLongitude> ?west.\\n?GBB <http://eurocris.org/ontology/cerif#has_northBoundaryLatitude> ?north.\\n?GBB <http://eurocris.org/ontology/cerif#has_southBoundaryLatitude> ?south.\\nFILTER(xsd:float(?east) <= @#$%EAST%$#@ && xsd:float(?west) >= @#$%WEST%$#@ && xsd:float(?north) <= @#$%NORTH%$#@ && xsd:float(?south) >= @#$%SOUTH%$#@)\\n?orgName bds:search \\\"@#$%TERM%$#@\\\".\\n?orgName bds:relevance ?score.\\n}ORDER BY desc(?score) \\n\"},\"selection_list\":\"distinct (?orgName as ?name) (?orgAcronym as ?acronym) ?Service (?@#$%VAR%$#@ as ?uri)\",\"uri\":\"http://eurocris.org/ontology/cerif#OrganisationUnit\",\"var_name\":\"org\"},\"searchRelatedKeywords\":\"\",\"allRelatedSearchResultsIsSelected\":false,\"allRelatedEntitiesSelectedList\":[{\"name\":\"All Instances Selected\"}],\"selectedRelatedInstanceList\":[],\"shownEntitySearchResults\":false,\"selectedRecomentation\":null,\"relatedChips\":[],\"relatedEntitySearchText\":\"\",\"rowModelList\":[{\"id\":1,\"level\":1,\"outerSelectedFilterExpression\":\"\",\"selectedRelation\":{\"name\":\"is stakeholde of\",\"uri\":\"http://eurocris.org/ontology/cerif#OrganisationUnit-Project/is%20stakeholde%20of\"},\"rangeOfDates\":{\"from\":null,\"fromInputName\":\"\",\"until\":null,\"untilInputName\":\"\"},\"selectedRelatedEntity\":{\"selection_pattern\":\"?@#$%VAR%$#@ <http://eurocris.org/ontology/cerif#is_source_of> ?FLES.\\n?FLES <http://eurocris.org/ontology/cerif#has_destination> ?Ser.\\n?FLES <http://eurocris.org/ontology/cerif#has_classification> <http://139.91.183.70:8090/vre4eic/Classification.provenance>.\\n?Ser <http://eurocris.org/ontology/cerif#has_acronym> ?Service.\\n?@#$%VAR%$#@ <http://eurocris.org/ontology/cerif#has_title> ?projectTitle.\\nOPTIONAL {?@#$%VAR%$#@ <http://eurocris.org/ontology/cerif#has_URI> ?projURI.}\\nBIND(if(bound(?projURI),?projURI,?proj) as ?projectURI).\\n?@#$%VAR%$#@ <http://eurocris.org/ontology/cerif#has_acronym> ?projectAcronym.\\n?@#$%VAR%$#@ rdfs:label ?projName.\\n\",\"keyword_search\":\"?@#$%VAR%$#@ rdfs:label ?projName.\\n?projName bds:search \\\"@#$%TERM%$#@\\\".\",\"geospatial\":\"FALSE\",\"thesaurus\":\"thesaurus/project-acronyms.json\",\"name\":\"Project\",\"id\":7,\"queryModel\":{\"geo_query\":\"\",\"query\":\"PREFIX cerif:<http://eurocris.org/ontology/cerif#>\\nselect distinct (?projectTitle as ?title) ?projectAcronym ?Service (?proj as ?uri) @#$%FROM%$#@ \\nwhere {\\n?proj <http://eurocris.org/ontology/cerif#is_source_of> ?FLES.\\n?FLES <http://eurocris.org/ontology/cerif#has_destination> ?Ser.\\n?FLES cerif:has_classification <http://139.91.183.70:8090/vre4eic/Classification.provenance>.\\n?Ser cerif:has_acronym ?Service.\\n?proj a cerif:Project.\\n?proj cerif:has_title ?projectTitle.\\nOPTIONAL {?proj cerif:has_URI ?projURI.}\\nBIND(if(bound(?projURI),?projURI,?proj) as ?projectURI).\\n?proj cerif:has_acronym ?projectAcronym.\\n?proj rdfs:label ?projName.\\n?projName bds:search \\\"@#$%TERM%$#@\\\".\\n?projName bds:relevance ?score \\n} ORDER BY desc(?score) \\n\",\"format\":\"application/json\",\"text_geo_query\":\"\"},\"selection_list\":\"distinct (?projectTitle as ?title) ?projName ?projectAcronym ?Service (?@#$%VAR%$#@ as ?projectURI)\",\"uri\":\"http://eurocris.org/ontology/cerif#Project\",\"var_name\":\"proj\"},\"searchRelatedKeywords\":\"\",\"allRelatedSearchResultsIsSelected\":false,\"allRelatedEntitiesSelectedList\":[{\"name\":\"All Instances Selected\"}],\"selectedRelatedInstanceList\":[],\"shownEntitySearchResults\":false,\"selectedRecomentation\":null,\"relatedChips\":[],\"relatedEntitySearchText\":\"\",\"rowModelList\":[],\"activeRelatedSearchResultsStyle\":\"enabled-style\",\"activeRowModelStyle\":\"enabled-style\"},{\"id\":2,\"level\":1,\"outerSelectedFilterExpression\":\"OR\",\"selectedRelation\":{\"name\":\"has member\",\"uri\":\"http://eurocris.org/ontology/cerif#OrganisationUnit-Person/has%20member\"},\"rangeOfDates\":{\"from\":null,\"fromInputName\":\"\",\"until\":null,\"untilInputName\":\"\"},\"selectedRelatedEntity\":{\"selection_pattern\":\"?@#$%VAR%$#@  <http://eurocris.org/ontology/cerif#is_source_of> ?FLES.\\n?FLES <http://eurocris.org/ontology/cerif#has_destination> ?Ser.\\n?FLES <http://eurocris.org/ontology/cerif#has_classification> <http://139.91.183.70:8090/vre4eic/Classification.provenance>.  \\n?Ser <http://eurocris.org/ontology/cerif#has_acronym> ?Service.\\n?@#$%VAR%$#@ rdfs:label ?persName. \\n\",\"keyword_search\":\"?@#$%VAR%$#@ rdfs:label ?persName. \\n?persName bds:search \\\"@#$%TERM%$#@\\\".\",\"geospatial\":\"FALSE\",\"thesaurus\":\"thesaurus/persons-firstAndLastNames.json\",\"name\":\"Person\",\"id\":4,\"queryModel\":{\"geo_query\":\"\",\"query\":\"PREFIX cerif:<http://eurocris.org/ontology/cerif#>\\nselect distinct ?persName ?Service (?pers as ?uri) @#$%FROM%$#@\\nwhere {\\n?pers <http://eurocris.org/ontology/cerif#is_source_of> ?FLES.  \\n?FLES <http://eurocris.org/ontology/cerif#has_destination> ?Ser.  \\n?FLES cerif:has_classification <http://139.91.183.70:8090/vre4eic/Classification.provenance>.  \\n?Ser cerif:has_acronym ?Service.\\n?pers a cerif:Person.  \\n?pers rdfs:label ?persName. \\n?persName bds:search \\\"@#$%TERM%$#@\\\".  \\n?persName bds:relevance ?score. \\n}  ORDER BY desc(?score) ?pers \\n\",\"format\":\"application/json\",\"text_geo_query\":\"\"},\"selection_list\":\"distinct ?persName ?Service (?@#$%VAR%$#@ as ?uri)\",\"uri\":\"http://eurocris.org/ontology/cerif#Person\",\"var_name\":\"pers\"},\"searchRelatedKeywords\":\"\",\"allRelatedSearchResultsIsSelected\":false,\"allRelatedEntitiesSelectedList\":[{\"name\":\"All Instances Selected\"}],\"selectedRelatedInstanceList\":[],\"shownEntitySearchResults\":false,\"selectedRecomentation\":null,\"relatedChips\":[],\"relatedEntitySearchText\":\"\",\"rowModelList\":[],\"activeRelatedSearchResultsStyle\":\"enabled-style\",\"activeRowModelStyle\":\"enabled-style\"}],\"activeRelatedSearchResultsStyle\":\"enabled-style\",\"activeRowModelStyle\":\"enabled-style\"}]}}";
        //Person -> OrgUnit and OrgUnit
//        json = "{\"queryFrom\":\"from <http://ekt-data> from <http://rcuk-data> from <http://fris-data> from <http://epos-data> from <http://envri-data> \",\"queryModel\":{\"targetModel\":{\"selectedTargetEntity\":{\"selection_pattern\":\"?@#$%VAR%$#@  <http://eurocris.org/ontology/cerif#is_source_of> ?FLES.\\n?FLES <http://eurocris.org/ontology/cerif#has_destination> ?Ser.\\n?FLES <http://eurocris.org/ontology/cerif#has_classification> <http://139.91.183.70:8090/vre4eic/Classification.provenance>.  \\n?Ser <http://eurocris.org/ontology/cerif#has_acronym> ?Service.\\n?@#$%VAR%$#@ rdfs:label ?persName. \\n\",\"keyword_search\":\"?@#$%VAR%$#@ rdfs:label ?persName. \\n?persName bds:search \\\"@#$%TERM%$#@\\\".\",\"geospatial\":\"FALSE\",\"thesaurus\":\"thesaurus/persons-firstAndLastNames.json\",\"name\":\"Person\",\"id\":1,\"queryModel\":{\"geo_query\":\"\",\"query\":\"PREFIX cerif:<http://eurocris.org/ontology/cerif#>\\nselect distinct ?persName ?Service (?pers as ?uri) @#$%FROM%$#@\\nwhere {\\n?pers <http://eurocris.org/ontology/cerif#is_source_of> ?FLES.  \\n?FLES <http://eurocris.org/ontology/cerif#has_destination> ?Ser.  \\n?FLES cerif:has_classification <http://139.91.183.70:8090/vre4eic/Classification.provenance>.  \\n?Ser cerif:has_acronym ?Service.\\n?pers a cerif:Person.  \\n?pers rdfs:label ?persName. \\n?persName bds:search \\\"@#$%TERM%$#@\\\".  \\n?persName bds:relevance ?score. \\n}  ORDER BY desc(?score) ?pers \\n\",\"format\":\"application/json\",\"text_geo_query\":\"\"},\"selection_list\":\"distinct ?persName ?Service (?@#$%VAR%$#@ as ?uri)\",\"uri\":\"http://eurocris.org/ontology/cerif#Person\",\"var_name\":\"pers\"},\"searchTargetKeywords\":\"\",\"selectedTargetRecomentation\":null,\"targetChips\":[]},\"relatedModels\":[{\"id\":0,\"level\":0,\"outerSelectedFilterExpression\":\"\",\"selectedRelation\":{\"name\":\"is member of\",\"uri\":\"http://eurocris.org/ontology/cerif#Person-OrganisationUnit/is%20member%20of\"},\"rangeOfDates\":{\"from\":null,\"fromInputName\":\"\",\"until\":null,\"untilInputName\":\"\"},\"selectedRelatedEntity\":{\"selection_pattern\":\"?@#$%VAR%$#@ <http://eurocris.org/ontology/cerif#is_source_of> ?FLES.\\n?FLES <http://eurocris.org/ontology/cerif#has_destination> ?Ser.\\n?FLES <http://eurocris.org/ontology/cerif#has_classification> <http://139.91.183.70:8090/vre4eic/Classification.provenance>.\\n?Ser <http://eurocris.org/ontology/cerif#has_acronym> ?Service.\\n?@#$%VAR%$#@ <http://eurocris.org/ontology/cerif#has_name> ?orgName.\\n?@#$%VAR%$#@ <http://eurocris.org/ontology/cerif#has_acronym> ?orgAcronym.\",\"keyword_search\":\"?@#$%VAR%$#@ <http://eurocris.org/ontology/cerif#has_name> ?orgName.\\n?orgName bds:search \\\"@#$%TERM%$#@\\\".\",\"geospatial\":true,\"thesaurus\":\"thesaurus/organizationUnits-acronyms.json\",\"name\":\"OrganisationUnit\",\"id\":2,\"queryModel\":{\"geo_query\":\"PREFIX cerif:<http://eurocris.org/ontology/cerif#> \\nselect distinct (?orgName as ?name) (?orgAcronym as ?acronym) ?Service (?org as ?uri) ?east ?west ?north ?south @#$%FROM%$#@ \\nwhere {\\n?org <http://eurocris.org/ontology/cerif#is_source_of> ?FLES.\\n?FLES <http://eurocris.org/ontology/cerif#has_destination> ?Ser.\\n?FLES cerif:has_classification <http://139.91.183.70:8090/vre4eic/Classification.provenance>.\\n?Ser cerif:has_acronym ?Service.\\n?org a cerif:OrganisationUnit.\\n?org cerif:has_name ?orgName.\\n?org cerif:has_acronym ?orgAcronym.\\n?org <http://eurocris.org/ontology/cerif#is_source_of> ?FLE1.\\n?FLE1 <http://eurocris.org/ontology/cerif#has_destination> ?PA.\\n?PA <http://eurocris.org/ontology/cerif#is_source_of> ?FLE2.\\n?FLE2 <http://eurocris.org/ontology/cerif#has_destination> ?GBB.\\n?GBB <http://eurocris.org/ontology/cerif#has_eastBoundaryLongitude> ?east.\\n?GBB <http://eurocris.org/ontology/cerif#has_westBoundaryLongitude> ?west.\\n?GBB <http://eurocris.org/ontology/cerif#has_northBoundaryLatitude> ?north.\\n?GBB <http://eurocris.org/ontology/cerif#has_southBoundaryLatitude> ?south.\\nFILTER(xsd:float(?east) <= @#$%EAST%$#@ && xsd:float(?west) >= @#$%WEST%$#@ && xsd:float(?north) <= @#$%NORTH%$#@ && xsd:float(?south) >= @#$%SOUTH%$#@)\\n}\",\"query\":\"PREFIX cerif:<http://eurocris.org/ontology/cerif#>\\nselect distinct (?orgName as ?name) (?orgAcronym as ?acronym) ?Service (?org as ?uri) @#$%FROM%$#@ \\nwhere {\\n?org <http://eurocris.org/ontology/cerif#is_source_of> ?FLES.\\n?FLES <http://eurocris.org/ontology/cerif#has_destination> ?Ser.\\n?FLES cerif:has_classification <http://139.91.183.70:8090/vre4eic/Classification.provenance>.\\n?Ser cerif:has_acronym ?Service.\\n?org a cerif:OrganisationUnit.\\n?org cerif:has_name ?orgName.\\n?org cerif:has_acronym ?orgAcronym.\\n?orgName bds:search \\\"@#$%TERM%$#@\\\".\\n?orgName bds:relevance ?score.\\n}ORDER BY desc(?score) \\n\",\"format\":\"application/json\",\"text_geo_query\":\"PREFIX cerif:<http://eurocris.org/ontology/cerif#> \\nselect distinct (?orgName as ?name) (?orgAcronym as ?acronym) ?Service (?org as ?uri) ?east ?west ?north ?south @#$%FROM%$#@ \\nwhere {\\n?org <http://eurocris.org/ontology/cerif#is_source_of> ?FLES.\\n?FLES <http://eurocris.org/ontology/cerif#has_destination> ?Ser.\\n?FLES cerif:has_classification <http://139.91.183.70:8090/vre4eic/Classification.provenance>.\\n?Ser cerif:has_acronym ?Service.\\n?org a cerif:OrganisationUnit.\\n?org cerif:has_name ?orgName.\\n?org cerif:has_acronym ?orgAcronym.\\n?org <http://eurocris.org/ontology/cerif#is_source_of> ?FLE1.\\n?FLE1 <http://eurocris.org/ontology/cerif#has_destination> ?PA.\\n?PA <http://eurocris.org/ontology/cerif#is_source_of> ?FLE2.\\n?FLE2 <http://eurocris.org/ontology/cerif#has_destination> ?GBB.\\n?GBB <http://eurocris.org/ontology/cerif#has_eastBoundaryLongitude> ?east.\\n?GBB <http://eurocris.org/ontology/cerif#has_westBoundaryLongitude> ?west.\\n?GBB <http://eurocris.org/ontology/cerif#has_northBoundaryLatitude> ?north.\\n?GBB <http://eurocris.org/ontology/cerif#has_southBoundaryLatitude> ?south.\\nFILTER(xsd:float(?east) <= @#$%EAST%$#@ && xsd:float(?west) >= @#$%WEST%$#@ && xsd:float(?north) <= @#$%NORTH%$#@ && xsd:float(?south) >= @#$%SOUTH%$#@)\\n?orgName bds:search \\\"@#$%TERM%$#@\\\".\\n?orgName bds:relevance ?score.\\n}ORDER BY desc(?score) \\n\"},\"selection_list\":\"distinct (?orgName as ?name) (?orgAcronym as ?acronym) ?Service (?@#$%VAR%$#@ as ?uri)\",\"uri\":\"http://eurocris.org/ontology/cerif#OrganisationUnit\",\"var_name\":\"org\"},\"searchRelatedKeywords\":\"\",\"allRelatedSearchResultsIsSelected\":false,\"allRelatedEntitiesSelectedList\":[{\"name\":\"All Instances Selected\"}],\"selectedRelatedInstanceList\":[],\"shownEntitySearchResults\":false,\"selectedRecomentation\":null,\"relatedChips\":[],\"relatedEntitySearchText\":\"\",\"rowModelList\":[],\"activeRelatedSearchResultsStyle\":\"enabled-style\",\"activeRowModelStyle\":\"enabled-style\"},{\"id\":1,\"level\":0,\"outerSelectedFilterExpression\":\"AND\",\"selectedRelation\":{\"name\":\"is head of department of\",\"uri\":\"http://eurocris.org/ontology/cerif#Person-OrganisationUnit/is%20head%20of%20department%20of\"},\"rangeOfDates\":{\"from\":null,\"fromInputName\":\"\",\"until\":null,\"untilInputName\":\"\"},\"selectedRelatedEntity\":{\"selection_pattern\":\"?@#$%VAR%$#@ <http://eurocris.org/ontology/cerif#is_source_of> ?FLES.\\n?FLES <http://eurocris.org/ontology/cerif#has_destination> ?Ser.\\n?FLES <http://eurocris.org/ontology/cerif#has_classification> <http://139.91.183.70:8090/vre4eic/Classification.provenance>.\\n?Ser <http://eurocris.org/ontology/cerif#has_acronym> ?Service.\\n?@#$%VAR%$#@ <http://eurocris.org/ontology/cerif#has_name> ?orgName.\\n?@#$%VAR%$#@ <http://eurocris.org/ontology/cerif#has_acronym> ?orgAcronym.\",\"keyword_search\":\"?@#$%VAR%$#@ <http://eurocris.org/ontology/cerif#has_name> ?orgName.\\n?orgName bds:search \\\"@#$%TERM%$#@\\\".\",\"geospatial\":true,\"thesaurus\":\"thesaurus/organizationUnits-acronyms.json\",\"name\":\"OrganisationUnit\",\"id\":2,\"queryModel\":{\"geo_query\":\"PREFIX cerif:<http://eurocris.org/ontology/cerif#> \\nselect distinct (?orgName as ?name) (?orgAcronym as ?acronym) ?Service (?org as ?uri) ?east ?west ?north ?south @#$%FROM%$#@ \\nwhere {\\n?org <http://eurocris.org/ontology/cerif#is_source_of> ?FLES.\\n?FLES <http://eurocris.org/ontology/cerif#has_destination> ?Ser.\\n?FLES cerif:has_classification <http://139.91.183.70:8090/vre4eic/Classification.provenance>.\\n?Ser cerif:has_acronym ?Service.\\n?org a cerif:OrganisationUnit.\\n?org cerif:has_name ?orgName.\\n?org cerif:has_acronym ?orgAcronym.\\n?org <http://eurocris.org/ontology/cerif#is_source_of> ?FLE1.\\n?FLE1 <http://eurocris.org/ontology/cerif#has_destination> ?PA.\\n?PA <http://eurocris.org/ontology/cerif#is_source_of> ?FLE2.\\n?FLE2 <http://eurocris.org/ontology/cerif#has_destination> ?GBB.\\n?GBB <http://eurocris.org/ontology/cerif#has_eastBoundaryLongitude> ?east.\\n?GBB <http://eurocris.org/ontology/cerif#has_westBoundaryLongitude> ?west.\\n?GBB <http://eurocris.org/ontology/cerif#has_northBoundaryLatitude> ?north.\\n?GBB <http://eurocris.org/ontology/cerif#has_southBoundaryLatitude> ?south.\\nFILTER(xsd:float(?east) <= @#$%EAST%$#@ && xsd:float(?west) >= @#$%WEST%$#@ && xsd:float(?north) <= @#$%NORTH%$#@ && xsd:float(?south) >= @#$%SOUTH%$#@)\\n}\",\"query\":\"PREFIX cerif:<http://eurocris.org/ontology/cerif#>\\nselect distinct (?orgName as ?name) (?orgAcronym as ?acronym) ?Service (?org as ?uri) @#$%FROM%$#@ \\nwhere {\\n?org <http://eurocris.org/ontology/cerif#is_source_of> ?FLES.\\n?FLES <http://eurocris.org/ontology/cerif#has_destination> ?Ser.\\n?FLES cerif:has_classification <http://139.91.183.70:8090/vre4eic/Classification.provenance>.\\n?Ser cerif:has_acronym ?Service.\\n?org a cerif:OrganisationUnit.\\n?org cerif:has_name ?orgName.\\n?org cerif:has_acronym ?orgAcronym.\\n?orgName bds:search \\\"@#$%TERM%$#@\\\".\\n?orgName bds:relevance ?score.\\n}ORDER BY desc(?score) \\n\",\"format\":\"application/json\",\"text_geo_query\":\"PREFIX cerif:<http://eurocris.org/ontology/cerif#> \\nselect distinct (?orgName as ?name) (?orgAcronym as ?acronym) ?Service (?org as ?uri) ?east ?west ?north ?south @#$%FROM%$#@ \\nwhere {\\n?org <http://eurocris.org/ontology/cerif#is_source_of> ?FLES.\\n?FLES <http://eurocris.org/ontology/cerif#has_destination> ?Ser.\\n?FLES cerif:has_classification <http://139.91.183.70:8090/vre4eic/Classification.provenance>.\\n?Ser cerif:has_acronym ?Service.\\n?org a cerif:OrganisationUnit.\\n?org cerif:has_name ?orgName.\\n?org cerif:has_acronym ?orgAcronym.\\n?org <http://eurocris.org/ontology/cerif#is_source_of> ?FLE1.\\n?FLE1 <http://eurocris.org/ontology/cerif#has_destination> ?PA.\\n?PA <http://eurocris.org/ontology/cerif#is_source_of> ?FLE2.\\n?FLE2 <http://eurocris.org/ontology/cerif#has_destination> ?GBB.\\n?GBB <http://eurocris.org/ontology/cerif#has_eastBoundaryLongitude> ?east.\\n?GBB <http://eurocris.org/ontology/cerif#has_westBoundaryLongitude> ?west.\\n?GBB <http://eurocris.org/ontology/cerif#has_northBoundaryLatitude> ?north.\\n?GBB <http://eurocris.org/ontology/cerif#has_southBoundaryLatitude> ?south.\\nFILTER(xsd:float(?east) <= @#$%EAST%$#@ && xsd:float(?west) >= @#$%WEST%$#@ && xsd:float(?north) <= @#$%NORTH%$#@ && xsd:float(?south) >= @#$%SOUTH%$#@)\\n?orgName bds:search \\\"@#$%TERM%$#@\\\".\\n?orgName bds:relevance ?score.\\n}ORDER BY desc(?score) \\n\"},\"selection_list\":\"distinct (?orgName as ?name) (?orgAcronym as ?acronym) ?Service (?@#$%VAR%$#@ as ?uri)\",\"uri\":\"http://eurocris.org/ontology/cerif#OrganisationUnit\",\"var_name\":\"org\"},\"searchRelatedKeywords\":\"\",\"allRelatedSearchResultsIsSelected\":false,\"allRelatedEntitiesSelectedList\":[{\"name\":\"All Instances Selected\"}],\"selectedRelatedInstanceList\":[],\"shownEntitySearchResults\":false,\"selectedRecomentation\":null,\"relatedChips\":[],\"relatedEntitySearchText\":\"\",\"rowModelList\":[],\"activeRelatedSearchResultsStyle\":\"enabled-style\",\"activeRowModelStyle\":\"enabled-style\"},{\"id\":2,\"level\":0,\"outerSelectedFilterExpression\":\"AND\",\"selectedRelation\":{\"name\":\"is member of\",\"uri\":\"http://eurocris.org/ontology/cerif#Person-OrganisationUnit/is%20member%20of\"},\"rangeOfDates\":{\"from\":null,\"fromInputName\":\"\",\"until\":null,\"untilInputName\":\"\"},\"selectedRelatedEntity\":{\"selection_pattern\":\"?@#$%VAR%$#@ <http://eurocris.org/ontology/cerif#is_source_of> ?FLES.\\n?FLES <http://eurocris.org/ontology/cerif#has_destination> ?Ser.\\n?FLES <http://eurocris.org/ontology/cerif#has_classification> <http://139.91.183.70:8090/vre4eic/Classification.provenance>.\\n?Ser <http://eurocris.org/ontology/cerif#has_acronym> ?Service.\\n?@#$%VAR%$#@ <http://eurocris.org/ontology/cerif#has_name> ?orgName.\\n?@#$%VAR%$#@ <http://eurocris.org/ontology/cerif#has_acronym> ?orgAcronym.\",\"keyword_search\":\"?@#$%VAR%$#@ <http://eurocris.org/ontology/cerif#has_name> ?orgName.\\n?orgName bds:search \\\"@#$%TERM%$#@\\\".\",\"geospatial\":true,\"thesaurus\":\"thesaurus/organizationUnits-acronyms.json\",\"name\":\"OrganisationUnit\",\"id\":2,\"queryModel\":{\"geo_query\":\"PREFIX cerif:<http://eurocris.org/ontology/cerif#> \\nselect distinct (?orgName as ?name) (?orgAcronym as ?acronym) ?Service (?org as ?uri) ?east ?west ?north ?south @#$%FROM%$#@ \\nwhere {\\n?org <http://eurocris.org/ontology/cerif#is_source_of> ?FLES.\\n?FLES <http://eurocris.org/ontology/cerif#has_destination> ?Ser.\\n?FLES cerif:has_classification <http://139.91.183.70:8090/vre4eic/Classification.provenance>.\\n?Ser cerif:has_acronym ?Service.\\n?org a cerif:OrganisationUnit.\\n?org cerif:has_name ?orgName.\\n?org cerif:has_acronym ?orgAcronym.\\n?org <http://eurocris.org/ontology/cerif#is_source_of> ?FLE1.\\n?FLE1 <http://eurocris.org/ontology/cerif#has_destination> ?PA.\\n?PA <http://eurocris.org/ontology/cerif#is_source_of> ?FLE2.\\n?FLE2 <http://eurocris.org/ontology/cerif#has_destination> ?GBB.\\n?GBB <http://eurocris.org/ontology/cerif#has_eastBoundaryLongitude> ?east.\\n?GBB <http://eurocris.org/ontology/cerif#has_westBoundaryLongitude> ?west.\\n?GBB <http://eurocris.org/ontology/cerif#has_northBoundaryLatitude> ?north.\\n?GBB <http://eurocris.org/ontology/cerif#has_southBoundaryLatitude> ?south.\\nFILTER(xsd:float(?east) <= @#$%EAST%$#@ && xsd:float(?west) >= @#$%WEST%$#@ && xsd:float(?north) <= @#$%NORTH%$#@ && xsd:float(?south) >= @#$%SOUTH%$#@)\\n}\",\"query\":\"PREFIX cerif:<http://eurocris.org/ontology/cerif#>\\nselect distinct (?orgName as ?name) (?orgAcronym as ?acronym) ?Service (?org as ?uri) @#$%FROM%$#@ \\nwhere {\\n?org <http://eurocris.org/ontology/cerif#is_source_of> ?FLES.\\n?FLES <http://eurocris.org/ontology/cerif#has_destination> ?Ser.\\n?FLES cerif:has_classification <http://139.91.183.70:8090/vre4eic/Classification.provenance>.\\n?Ser cerif:has_acronym ?Service.\\n?org a cerif:OrganisationUnit.\\n?org cerif:has_name ?orgName.\\n?org cerif:has_acronym ?orgAcronym.\\n?orgName bds:search \\\"@#$%TERM%$#@\\\".\\n?orgName bds:relevance ?score.\\n}ORDER BY desc(?score) \\n\",\"format\":\"application/json\",\"text_geo_query\":\"PREFIX cerif:<http://eurocris.org/ontology/cerif#> \\nselect distinct (?orgName as ?name) (?orgAcronym as ?acronym) ?Service (?org as ?uri) ?east ?west ?north ?south @#$%FROM%$#@ \\nwhere {\\n?org <http://eurocris.org/ontology/cerif#is_source_of> ?FLES.\\n?FLES <http://eurocris.org/ontology/cerif#has_destination> ?Ser.\\n?FLES cerif:has_classification <http://139.91.183.70:8090/vre4eic/Classification.provenance>.\\n?Ser cerif:has_acronym ?Service.\\n?org a cerif:OrganisationUnit.\\n?org cerif:has_name ?orgName.\\n?org cerif:has_acronym ?orgAcronym.\\n?org <http://eurocris.org/ontology/cerif#is_source_of> ?FLE1.\\n?FLE1 <http://eurocris.org/ontology/cerif#has_destination> ?PA.\\n?PA <http://eurocris.org/ontology/cerif#is_source_of> ?FLE2.\\n?FLE2 <http://eurocris.org/ontology/cerif#has_destination> ?GBB.\\n?GBB <http://eurocris.org/ontology/cerif#has_eastBoundaryLongitude> ?east.\\n?GBB <http://eurocris.org/ontology/cerif#has_westBoundaryLongitude> ?west.\\n?GBB <http://eurocris.org/ontology/cerif#has_northBoundaryLatitude> ?north.\\n?GBB <http://eurocris.org/ontology/cerif#has_southBoundaryLatitude> ?south.\\nFILTER(xsd:float(?east) <= @#$%EAST%$#@ && xsd:float(?west) >= @#$%WEST%$#@ && xsd:float(?north) <= @#$%NORTH%$#@ && xsd:float(?south) >= @#$%SOUTH%$#@)\\n?orgName bds:search \\\"@#$%TERM%$#@\\\".\\n?orgName bds:relevance ?score.\\n}ORDER BY desc(?score) \\n\"},\"selection_list\":\"distinct (?orgName as ?name) (?orgAcronym as ?acronym) ?Service (?@#$%VAR%$#@ as ?uri)\",\"uri\":\"http://eurocris.org/ontology/cerif#OrganisationUnit\",\"var_name\":\"org\"},\"searchRelatedKeywords\":\"\",\"allRelatedSearchResultsIsSelected\":false,\"allRelatedEntitiesSelectedList\":[{\"name\":\"All Instances Selected\"}],\"selectedRelatedInstanceList\":[],\"shownEntitySearchResults\":false,\"selectedRecomentation\":null,\"relatedChips\":[],\"relatedEntitySearchText\":\"\",\"rowModelList\":[],\"activeRelatedSearchResultsStyle\":\"enabled-style\",\"activeRowModelStyle\":\"enabled-style\"}]}}";

//        json = "{\"queryFrom\":\"from <http://ekt-data> from <http://rcuk-data> from <http://fris-data> from <http://epos-data> from <http://envri-data> \",\"queryModel\":{\"targetModel\":{\"selectedTargetEntity\":{\"selection_pattern\":\"?@#$%VAR%$#@  <http://eurocris.org/ontology/cerif#is_source_of> ?FLES.\\n?FLES <http://eurocris.org/ontology/cerif#has_destination> ?Ser.\\n?FLES <http://eurocris.org/ontology/cerif#has_classification> <http://139.91.183.70:8090/vre4eic/Classification.provenance>.  \\n?Ser <http://eurocris.org/ontology/cerif#has_acronym> ?Service.\\n?@#$%VAR%$#@ rdfs:label ?persName. \\n\",\"keyword_search\":\"?@#$%VAR%$#@ rdfs:label ?persName. \\n?persName bds:search \\\"@#$%TERM%$#@\\\".\",\"geospatial\":\"FALSE\",\"thesaurus\":\"thesaurus/persons-firstAndLastNames.json\",\"name\":\"Person\",\"id\":1,\"queryModel\":{\"geo_query\":\"\",\"query\":\"PREFIX cerif:<http://eurocris.org/ontology/cerif#>\\nselect distinct ?persName ?Service (?pers as ?uri) @#$%FROM%$#@\\nwhere {\\n?pers <http://eurocris.org/ontology/cerif#is_source_of> ?FLES.  \\n?FLES <http://eurocris.org/ontology/cerif#has_destination> ?Ser.  \\n?FLES cerif:has_classification <http://139.91.183.70:8090/vre4eic/Classification.provenance>.  \\n?Ser cerif:has_acronym ?Service.\\n?pers a cerif:Person.  \\n?pers rdfs:label ?persName. \\n?persName bds:search \\\"@#$%TERM%$#@\\\".  \\n?persName bds:relevance ?score. \\n}  ORDER BY desc(?score) ?pers \\n\",\"format\":\"application/json\",\"text_geo_query\":\"\"},\"selection_list\":\"distinct ?persName ?Service (?@#$%VAR%$#@ as ?uri)\",\"uri\":\"http://eurocris.org/ontology/cerif#Person\",\"var_name\":\"pers\"},\"searchTargetKeywords\":\"\",\"selectedTargetRecomentation\":null,\"targetChips\":[]},\"relatedModels\":[{\"id\":0,\"level\":0,\"outerSelectedFilterExpression\":\"\",\"selectedRelation\":{\"name\":\"is member of\",\"uri\":\"http://eurocris.org/ontology/cerif#Person-OrganisationUnit/is%20member%20of\"},\"rangeOfDates\":{\"from\":null,\"fromInputName\":\"\",\"until\":null,\"untilInputName\":\"\"},\"selectedRelatedEntity\":{\"selection_pattern\":\"?@#$%VAR%$#@ <http://eurocris.org/ontology/cerif#is_source_of> ?FLES.\\n?FLES <http://eurocris.org/ontology/cerif#has_destination> ?Ser.\\n?FLES <http://eurocris.org/ontology/cerif#has_classification> <http://139.91.183.70:8090/vre4eic/Classification.provenance>.\\n?Ser <http://eurocris.org/ontology/cerif#has_acronym> ?Service.\\n?@#$%VAR%$#@ <http://eurocris.org/ontology/cerif#has_name> ?orgName.\\n?@#$%VAR%$#@ <http://eurocris.org/ontology/cerif#has_acronym> ?orgAcronym.\",\"keyword_search\":\"?@#$%VAR%$#@ <http://eurocris.org/ontology/cerif#has_name> ?orgName.\\n?orgName bds:search \\\"@#$%TERM%$#@\\\".\",\"geospatial\":true,\"thesaurus\":\"thesaurus/organizationUnits-acronyms.json\",\"name\":\"OrganisationUnit\",\"id\":2,\"queryModel\":{\"geo_query\":\"PREFIX cerif:<http://eurocris.org/ontology/cerif#> \\nselect distinct (?orgName as ?name) (?orgAcronym as ?acronym) ?Service (?org as ?uri) ?east ?west ?north ?south @#$%FROM%$#@ \\nwhere {\\n?org <http://eurocris.org/ontology/cerif#is_source_of> ?FLES.\\n?FLES <http://eurocris.org/ontology/cerif#has_destination> ?Ser.\\n?FLES cerif:has_classification <http://139.91.183.70:8090/vre4eic/Classification.provenance>.\\n?Ser cerif:has_acronym ?Service.\\n?org a cerif:OrganisationUnit.\\n?org cerif:has_name ?orgName.\\n?org cerif:has_acronym ?orgAcronym.\\n?org <http://eurocris.org/ontology/cerif#is_source_of> ?FLE1.\\n?FLE1 <http://eurocris.org/ontology/cerif#has_destination> ?PA.\\n?PA <http://eurocris.org/ontology/cerif#is_source_of> ?FLE2.\\n?FLE2 <http://eurocris.org/ontology/cerif#has_destination> ?GBB.\\n?GBB <http://eurocris.org/ontology/cerif#has_eastBoundaryLongitude> ?east.\\n?GBB <http://eurocris.org/ontology/cerif#has_westBoundaryLongitude> ?west.\\n?GBB <http://eurocris.org/ontology/cerif#has_northBoundaryLatitude> ?north.\\n?GBB <http://eurocris.org/ontology/cerif#has_southBoundaryLatitude> ?south.\\nFILTER(xsd:float(?east) <= @#$%EAST%$#@ && xsd:float(?west) >= @#$%WEST%$#@ && xsd:float(?north) <= @#$%NORTH%$#@ && xsd:float(?south) >= @#$%SOUTH%$#@)\\n}\",\"query\":\"PREFIX cerif:<http://eurocris.org/ontology/cerif#>\\nselect distinct (?orgName as ?name) (?orgAcronym as ?acronym) ?Service (?org as ?uri) @#$%FROM%$#@ \\nwhere {\\n?org <http://eurocris.org/ontology/cerif#is_source_of> ?FLES.\\n?FLES <http://eurocris.org/ontology/cerif#has_destination> ?Ser.\\n?FLES cerif:has_classification <http://139.91.183.70:8090/vre4eic/Classification.provenance>.\\n?Ser cerif:has_acronym ?Service.\\n?org a cerif:OrganisationUnit.\\n?org cerif:has_name ?orgName.\\n?org cerif:has_acronym ?orgAcronym.\\n?orgName bds:search \\\"@#$%TERM%$#@\\\".\\n?orgName bds:relevance ?score.\\n}ORDER BY desc(?score) \\n\",\"format\":\"application/json\",\"text_geo_query\":\"PREFIX cerif:<http://eurocris.org/ontology/cerif#> \\nselect distinct (?orgName as ?name) (?orgAcronym as ?acronym) ?Service (?org as ?uri) ?east ?west ?north ?south @#$%FROM%$#@ \\nwhere {\\n?org <http://eurocris.org/ontology/cerif#is_source_of> ?FLES.\\n?FLES <http://eurocris.org/ontology/cerif#has_destination> ?Ser.\\n?FLES cerif:has_classification <http://139.91.183.70:8090/vre4eic/Classification.provenance>.\\n?Ser cerif:has_acronym ?Service.\\n?org a cerif:OrganisationUnit.\\n?org cerif:has_name ?orgName.\\n?org cerif:has_acronym ?orgAcronym.\\n?org <http://eurocris.org/ontology/cerif#is_source_of> ?FLE1.\\n?FLE1 <http://eurocris.org/ontology/cerif#has_destination> ?PA.\\n?PA <http://eurocris.org/ontology/cerif#is_source_of> ?FLE2.\\n?FLE2 <http://eurocris.org/ontology/cerif#has_destination> ?GBB.\\n?GBB <http://eurocris.org/ontology/cerif#has_eastBoundaryLongitude> ?east.\\n?GBB <http://eurocris.org/ontology/cerif#has_westBoundaryLongitude> ?west.\\n?GBB <http://eurocris.org/ontology/cerif#has_northBoundaryLatitude> ?north.\\n?GBB <http://eurocris.org/ontology/cerif#has_southBoundaryLatitude> ?south.\\nFILTER(xsd:float(?east) <= @#$%EAST%$#@ && xsd:float(?west) >= @#$%WEST%$#@ && xsd:float(?north) <= @#$%NORTH%$#@ && xsd:float(?south) >= @#$%SOUTH%$#@)\\n?orgName bds:search \\\"@#$%TERM%$#@\\\".\\n?orgName bds:relevance ?score.\\n}ORDER BY desc(?score) \\n\"},\"selection_list\":\"distinct (?orgName as ?name) (?orgAcronym as ?acronym) ?Service (?@#$%VAR%$#@ as ?uri)\",\"uri\":\"http://eurocris.org/ontology/cerif#OrganisationUnit\",\"var_name\":\"org\"},\"searchRelatedKeywords\":\"\",\"allRelatedSearchResultsIsSelected\":false,\"allRelatedEntitiesSelectedList\":[{\"name\":\"All Instances Selected\"}],\"selectedRelatedInstanceList\":[],\"shownEntitySearchResults\":false,\"selectedRecomentation\":null,\"relatedChips\":[],\"relatedEntitySearchText\":\"\",\"rowModelList\":[{\"id\":1,\"level\":1,\"outerSelectedFilterExpression\":\"\",\"selectedRelation\":{\"name\":\"is participant in\",\"uri\":\"http://eurocris.org/ontology/cerif#OrganisationUnit-Project/is%20participant%20in\"},\"rangeOfDates\":{\"from\":null,\"fromInputName\":\"\",\"until\":null,\"untilInputName\":\"\"},\"selectedRelatedEntity\":{\"selection_pattern\":\"?@#$%VAR%$#@ <http://eurocris.org/ontology/cerif#is_source_of> ?FLES.\\n?FLES <http://eurocris.org/ontology/cerif#has_destination> ?Ser.\\n?FLES <http://eurocris.org/ontology/cerif#has_classification> <http://139.91.183.70:8090/vre4eic/Classification.provenance>.\\n?Ser <http://eurocris.org/ontology/cerif#has_acronym> ?Service.\\n?@#$%VAR%$#@ <http://eurocris.org/ontology/cerif#has_title> ?projectTitle.\\nOPTIONAL {?@#$%VAR%$#@ <http://eurocris.org/ontology/cerif#has_URI> ?projURI.}\\nBIND(if(bound(?projURI),?projURI,?proj) as ?projectURI).\\n?@#$%VAR%$#@ <http://eurocris.org/ontology/cerif#has_acronym> ?projectAcronym.\\n?@#$%VAR%$#@ rdfs:label ?projName.\\n\",\"keyword_search\":\"?@#$%VAR%$#@ rdfs:label ?projName.\\n?projName bds:search \\\"@#$%TERM%$#@\\\".\",\"geospatial\":\"FALSE\",\"thesaurus\":\"thesaurus/project-acronyms.json\",\"name\":\"Project\",\"id\":7,\"queryModel\":{\"geo_query\":\"\",\"query\":\"PREFIX cerif:<http://eurocris.org/ontology/cerif#>\\nselect distinct (?projectTitle as ?title) ?projectAcronym ?Service (?proj as ?uri) @#$%FROM%$#@ \\nwhere {\\n?proj <http://eurocris.org/ontology/cerif#is_source_of> ?FLES.\\n?FLES <http://eurocris.org/ontology/cerif#has_destination> ?Ser.\\n?FLES cerif:has_classification <http://139.91.183.70:8090/vre4eic/Classification.provenance>.\\n?Ser cerif:has_acronym ?Service.\\n?proj a cerif:Project.\\n?proj cerif:has_title ?projectTitle.\\nOPTIONAL {?proj cerif:has_URI ?projURI.}\\nBIND(if(bound(?projURI),?projURI,?proj) as ?projectURI).\\n?proj cerif:has_acronym ?projectAcronym.\\n?proj rdfs:label ?projName.\\n?projName bds:search \\\"@#$%TERM%$#@\\\".\\n?projName bds:relevance ?score \\n} ORDER BY desc(?score) \\n\",\"format\":\"application/json\",\"text_geo_query\":\"\"},\"selection_list\":\"distinct (?projectTitle as ?title) ?projName ?projectAcronym ?Service (?@#$%VAR%$#@ as ?projectURI)\",\"uri\":\"http://eurocris.org/ontology/cerif#Project\",\"var_name\":\"proj\"},\"searchRelatedKeywords\":\"\",\"allRelatedSearchResultsIsSelected\":false,\"allRelatedEntitiesSelectedList\":[{\"name\":\"All Instances Selected\"}],\"selectedRelatedInstanceList\":[],\"shownEntitySearchResults\":false,\"selectedRecomentation\":null,\"relatedChips\":[],\"relatedEntitySearchText\":\"\",\"rowModelList\":[],\"activeRelatedSearchResultsStyle\":\"enabled-style\",\"activeRowModelStyle\":\"enabled-style\"},{\"id\":2,\"level\":1,\"outerSelectedFilterExpression\":\"AND\",\"selectedRelation\":{\"name\":\"has member\",\"uri\":\"http://eurocris.org/ontology/cerif#OrganisationUnit-Person/has%20member\"},\"rangeOfDates\":{\"from\":null,\"fromInputName\":\"\",\"until\":null,\"untilInputName\":\"\"},\"selectedRelatedEntity\":{\"selection_pattern\":\"?@#$%VAR%$#@  <http://eurocris.org/ontology/cerif#is_source_of> ?FLES.\\n?FLES <http://eurocris.org/ontology/cerif#has_destination> ?Ser.\\n?FLES <http://eurocris.org/ontology/cerif#has_classification> <http://139.91.183.70:8090/vre4eic/Classification.provenance>.  \\n?Ser <http://eurocris.org/ontology/cerif#has_acronym> ?Service.\\n?@#$%VAR%$#@ rdfs:label ?persName. \\n\",\"keyword_search\":\"?@#$%VAR%$#@ rdfs:label ?persName. \\n?persName bds:search \\\"@#$%TERM%$#@\\\".\",\"geospatial\":\"FALSE\",\"thesaurus\":\"thesaurus/persons-firstAndLastNames.json\",\"name\":\"Person\",\"id\":4,\"queryModel\":{\"geo_query\":\"\",\"query\":\"PREFIX cerif:<http://eurocris.org/ontology/cerif#>\\nselect distinct ?persName ?Service (?pers as ?uri) @#$%FROM%$#@\\nwhere {\\n?pers <http://eurocris.org/ontology/cerif#is_source_of> ?FLES.  \\n?FLES <http://eurocris.org/ontology/cerif#has_destination> ?Ser.  \\n?FLES cerif:has_classification <http://139.91.183.70:8090/vre4eic/Classification.provenance>.  \\n?Ser cerif:has_acronym ?Service.\\n?pers a cerif:Person.  \\n?pers rdfs:label ?persName. \\n?persName bds:search \\\"@#$%TERM%$#@\\\".  \\n?persName bds:relevance ?score. \\n}  ORDER BY desc(?score) ?pers \\n\",\"format\":\"application/json\",\"text_geo_query\":\"\"},\"selection_list\":\"distinct ?persName ?Service (?@#$%VAR%$#@ as ?uri)\",\"uri\":\"http://eurocris.org/ontology/cerif#Person\",\"var_name\":\"pers\"},\"searchRelatedKeywords\":\"\",\"allRelatedSearchResultsIsSelected\":false,\"allRelatedEntitiesSelectedList\":[{\"name\":\"All Instances Selected\"}],\"selectedRelatedInstanceList\":[],\"shownEntitySearchResults\":false,\"selectedRecomentation\":null,\"relatedChips\":[],\"relatedEntitySearchText\":\"\",\"rowModelList\":[],\"activeRelatedSearchResultsStyle\":\"enabled-style\",\"activeRowModelStyle\":\"enabled-style\"}],\"activeRelatedSearchResultsStyle\":\"enabled-style\",\"activeRowModelStyle\":\"enabled-style\"},{\"id\":3,\"level\":0,\"outerSelectedFilterExpression\":\"OR\",\"selectedRelation\":{\"name\":\"is author of\",\"uri\":\"http://eurocris.org/ontology/cerif#Person-Publication/is%20author%20of\"},\"rangeOfDates\":{\"from\":null,\"fromInputName\":\"\",\"until\":null,\"untilInputName\":\"\"},\"selectedRelatedEntity\":{\"selection_pattern\":\"?@#$%VAR%$#@ <http://eurocris.org/ontology/cerif#is_source_of> ?FLES.\\n?FLES <http://eurocris.org/ontology/cerif#has_destination> ?Ser.\\n?FLES <http://eurocris.org/ontology/cerif#has_classification> <http://139.91.183.70:8090/vre4eic/Classification.provenance>.\\n?Ser <http://eurocris.org/ontology/cerif#has_acronym> ?Service.\\n?@#$%VAR%$#@ <http://eurocris.org/ontology/cerif#has_title> ?pubTitle.\\n?@#$%VAR%$#@ <http://eurocris.org/ontology/cerif#has_publicationDate> ?pubDate.\\n\",\"keyword_search\":\"?@#$%VAR%$#@ <http://eurocris.org/ontology/cerif#has_title> ?pubTitle.\\n?pubTitle bds:search \\\"@#$%TERM%$#@\\\".\",\"geospatial\":\"FALSE\",\"thesaurus\":\"thesaurus/publications-titles.json\",\"name\":\"Publication\",\"id\":4,\"queryModel\":{\"geo_query\":\"\",\"query\":\"PREFIX cerif:<http://eurocris.org/ontology/cerif#>\\nselect distinct (?pubTitle as ?title) (?pubDate as ?publication_date) ?Service (?pub as ?uri) @#$%FROM%$#@ \\nwhere {\\n?pub <http://eurocris.org/ontology/cerif#is_source_of> ?FLES.\\n?FLES <http://eurocris.org/ontology/cerif#has_destination> ?Ser.\\n?FLES <http://eurocris.org/ontology/cerif#has_classification> <http://139.91.183.70:8090/vre4eic/Classification.provenance>.\\n?Ser <http://eurocris.org/ontology/cerif#has_acronym> ?Service.\\n?pub a <http://eurocris.org/ontology/cerif#Publication>.\\n?pub <http://eurocris.org/ontology/cerif#has_title> ?pubTitle.\\n?pub <http://eurocris.org/ontology/cerif#has_publicationDate> ?pubDate.\\n?pubTitle bds:search \\\"@#$%TERM%$#@\\\".\\n?pubTitle bds:relevance ?score.\\n}ORDER BY desc(?score) \\n\",\"format\":\"application/json\",\"text_geo_query\":\"\"},\"selection_list\":\"distinct (?pubTitle as ?title) (?pubDate as ?publication_date) ?Service (?@#$%VAR%$#@ as ?uri)\",\"uri\":\"http://eurocris.org/ontology/cerif#Publication\",\"var_name\":\"pub\"},\"searchRelatedKeywords\":\"\",\"allRelatedSearchResultsIsSelected\":false,\"allRelatedEntitiesSelectedList\":[{\"name\":\"All Instances Selected\"}],\"selectedRelatedInstanceList\":[],\"shownEntitySearchResults\":false,\"selectedRecomentation\":null,\"relatedChips\":[],\"relatedEntitySearchText\":\"\",\"rowModelList\":[],\"activeRelatedSearchResultsStyle\":\"enabled-style\",\"activeRowModelStyle\":\"enabled-style\"}]}}";
        //Person with no related entity
//        json = "{\"queryFrom\":\"from <http://ekt-data> from <http://rcuk-data> from <http://fris-data> from <http://epos-data> from <http://envri-data> \",\"queryModel\":{\"targetModel\":{\"selectedTargetEntity\":{\"selection_pattern\":\"?@#$%VAR%$#@  <http://eurocris.org/ontology/cerif#is_source_of> ?FLES.\\n?FLES <http://eurocris.org/ontology/cerif#has_destination> ?Ser.\\n?FLES <http://eurocris.org/ontology/cerif#has_classification> <http://139.91.183.70:8090/vre4eic/Classification.provenance>.  \\n?Ser <http://eurocris.org/ontology/cerif#has_acronym> ?Service.\\n?@#$%VAR%$#@ rdfs:label ?persName. \\n\",\"keyword_search\":\"?@#$%VAR%$#@ rdfs:label ?persName. \\n?persName bds:search \\\"@#$%TERM%$#@\\\".\",\"geospatial\":\"FALSE\",\"thesaurus\":\"thesaurus/persons-firstAndLastNames.json\",\"name\":\"Person\",\"id\":1,\"queryModel\":{\"geo_query\":\"\",\"query\":\"PREFIX cerif:<http://eurocris.org/ontology/cerif#>\\nselect distinct ?persName ?Service (?pers as ?uri) @#$%FROM%$#@\\nwhere {\\n?pers <http://eurocris.org/ontology/cerif#is_source_of> ?FLES.  \\n?FLES <http://eurocris.org/ontology/cerif#has_destination> ?Ser.  \\n?FLES cerif:has_classification <http://139.91.183.70:8090/vre4eic/Classification.provenance>.  \\n?Ser cerif:has_acronym ?Service.\\n?pers a cerif:Person.  \\n?pers rdfs:label ?persName. \\n?persName bds:search \\\"@#$%TERM%$#@\\\".  \\n?persName bds:relevance ?score. \\n}  ORDER BY desc(?score) ?pers \\n\",\"format\":\"application/json\",\"text_geo_query\":\"\"},\"selection_list\":\"distinct (?persName as ?name) ?Service (?@#$%VAR%$#@ as ?uri)\",\"uri\":\"http://eurocris.org/ontology/cerif#Person\",\"var_name\":\"pers\"},\"searchTargetKeywords\":\"test\",\"selectedTargetRecomentation\":null,\"targetChips\":[{\"id\":2928,\"name\":\"Maria-Teresa\"}]},\"relatedModels\":[{\"id\":0,\"level\":0,\"outerSelectedFilterExpression\":\"\",\"selectedRelation\":null,\"rangeOfDates\":{\"from\":null,\"fromInputName\":\"\",\"until\":null,\"untilInputName\":\"\"},\"selectedRelatedEntity\":null,\"searchRelatedKeywords\":\"\",\"allRelatedSearchResultsIsSelected\":true,\"allRelatedEntitiesSelectedList\":[{\"name\":\"Search By Keyword\"}],\"selectedRelatedInstanceList\":[],\"shownEntitySearchResults\":false,\"selectedRecomentation\":null,\"relatedChips\":[],\"relatedEntitySearchText\":\"\",\"rowModelList\":[],\"activeRelatedSearchResultsStyle\":\"disabled-style\",\"activeRowModelStyle\":\"enabled-style\"}]}}";
//        json = "{\"queryFrom\":\"from <http://ekt-data> from <http://rcuk-data> from <http://fris-data> from <http://epos-data> from <http://envri-data> \",\"queryModel\":{\"targetModel\":{\"selectedTargetEntity\":{\"selection_pattern\":\"?@#$%VAR%$#@ a <http://eurocris.org/ontology/cerif#Product>.\\n?@#$%VAR%$#@ <http://eurocris.org/ontology/cerif#has_name> ?name.\\n?@#$%VAR%$#@ <http://eurocris.org/ontology/cerif#is_source_of> ?FLES.\\n?FLES <http://eurocris.org/ontology/cerif#has_destination> ?Ser.\\n?FLES <http://eurocris.org/ontology/cerif#has_classification> <http://139.91.183.70:8090/vre4eic/Classification.provenance>.\\n?Ser <http://eurocris.org/ontology/cerif#has_acronym> ?Service.\\nOptional {\\n?@#$%VAR%$#@ <http://eurocris.org/ontology/cerif#is_destination_of> ?FLE3.\\n?FLE3 <http://eurocris.org/ontology/cerif#has_classification> <http://139.91.183.70:8090/vre4eic/Classification.Responsible>.\\noptional {\\n?FLE3 <http://eurocris.org/ontology/cerif#has_source> ?OUorP. ?OUorP <http://eurocris.org/ontology/cerif#has_name> ?nameOUorP.\\noptional{\\n?OUorP <http://eurocris.org/ontology/cerif#is_source_of> ?FLE4.?FLE4 <http://eurocris.org/ontology/cerif#has_destination> ?OU. ?OU <http://eurocris.org/ontology/cerif#has_name> ?nameOU.\\n}\\n}\\n}\\nbind(coalesce(?nameOU, ?nameOUorP) as ?Responsible).\\n\",\"keyword_search\":\"?@#$%VAR%$#@ <http://eurocris.org/ontology/cerif#has_name> ?name.\\n?name bds:search \\\"@#$%TERM%$#@\\\".\",\"geospatial\":true,\"thesaurus\":\"\",\"name\":\"Product\",\"id\":5,\"queryModel\":{\"geo_query\":\"PREFIX cerif:<http://eurocris.org/ontology/cerif#>\\nSELECT DISTINCT ?name  ?Responsible ?Service (?object as ?uri) ?east ?west ?north ?south \\n@#$%FROM%$#@\\nWHERE {\\n?object a cerif:Product.\\n?object cerif:has_name ?name.\\n?object <http://eurocris.org/ontology/cerif#is_source_of> ?FLES.\\n?FLES <http://eurocris.org/ontology/cerif#has_destination> ?Ser.\\n?FLES cerif:has_classification <http://139.91.183.70:8090/vre4eic/Classification.provenance>.\\n?Ser cerif:has_acronym ?Service.\\n?object <http://eurocris.org/ontology/cerif#is_source_of> ?FLE1.\\n?FLE1 <http://eurocris.org/ontology/cerif#has_destination> ?PA.\\n?PA <http://eurocris.org/ontology/cerif#is_source_of> ?FLE2.\\n?FLE2 <http://eurocris.org/ontology/cerif#has_destination> ?GBB.\\n?GBB <http://eurocris.org/ontology/cerif#has_eastBoundaryLongitude> ?east.\\n?GBB <http://eurocris.org/ontology/cerif#has_westBoundaryLongitude> ?west.\\n?GBB <http://eurocris.org/ontology/cerif#has_northBoundaryLatitude> ?north.\\n?GBB <http://eurocris.org/ontology/cerif#has_southBoundaryLatitude> ?south.\\nFILTER(xsd:float(?east) <= @#$%EAST%$#@ && xsd:float(?west) >= @#$%WEST%$#@ && xsd:float(?north) <= @#$%NORTH%$#@ && xsd:float(?south) >= @#$%SOUTH%$#@)\\nOptional {\\n?object cerif:is_destination_of ?FLE3.\\n?FLE3 cerif:has_classification <http://139.91.183.70:8090/vre4eic/Classification.Responsible>.\\noptional {\\n?FLE3 cerif:has_source ?OUorP. ?OUorP cerif:has_name ?nameOUorP.\\noptional{\\n?OUorP <http://eurocris.org/ontology/cerif#is_source_of> ?FLE4.?FLE4 <http://eurocris.org/ontology/cerif#has_destination> ?OU. ?OU cerif:has_name ?nameOU.\\n}\\n}\\n}\\nbind(coalesce(?nameOU, ?nameOUorP) as ?Responsible).\\n}\",\"query\":\"PREFIX cerif:<http://eurocris.org/ontology/cerif#>\\nSELECT DISTINCT ?name  ?Responsible ?Service (?object as ?uri) \\n@#$%FROM%$#@\\nWHERE {\\n?object a cerif:Product.\\n?object cerif:has_name ?name.\\n?object <http://eurocris.org/ontology/cerif#is_source_of> ?FLES.\\n?FLES <http://eurocris.org/ontology/cerif#has_destination> ?Ser.\\n?FLES cerif:has_classification <http://139.91.183.70:8090/vre4eic/Classification.provenance>.\\n?Ser cerif:has_acronym ?Service.\\n?name bds:search \\\"@#$%TERM%$#@\\\".\\n?name bds:relevance ?score.\\nOptional {\\n?object cerif:is_destination_of ?FLE3.\\n?FLE3 cerif:has_classification <http://139.91.183.70:8090/vre4eic/Classification.Responsible>.\\noptional {\\n?FLE3 cerif:has_source ?OUorP. ?OUorP cerif:has_name ?nameOUorP.\\noptional{\\n?OUorP <http://eurocris.org/ontology/cerif#is_source_of> ?FLE4.?FLE4 <http://eurocris.org/ontology/cerif#has_destination> ?OU. ?OU cerif:has_name ?nameOU.\\n}\\n}\\n}\\nbind(coalesce(?nameOU, ?nameOUorP) as ?Responsible).\\n} ORDER BY desc(?score) \\n\",\"format\":\"application/json\",\"text_geo_query\":\"PREFIX cerif:<http://eurocris.org/ontology/cerif#>\\nSELECT DISTINCT ?name  ?Responsible ?Service (?object as ?uri) ?east ?west ?north ?south \\n@#$%FROM%$#@\\nWHERE {\\n?object a cerif:Product.\\n?object cerif:has_name ?name.\\n?object <http://eurocris.org/ontology/cerif#is_source_of> ?FLES.\\n?FLES <http://eurocris.org/ontology/cerif#has_destination> ?Ser.\\n?FLES cerif:has_classification <http://139.91.183.70:8090/vre4eic/Classification.provenance>.\\n?Ser cerif:has_acronym ?Service.\\n?object <http://eurocris.org/ontology/cerif#is_source_of> ?FLE1.\\n?FLE1 <http://eurocris.org/ontology/cerif#has_destination> ?PA.\\n?PA <http://eurocris.org/ontology/cerif#is_source_of> ?FLE2.\\n?FLE2 <http://eurocris.org/ontology/cerif#has_destination> ?GBB.\\n?GBB <http://eurocris.org/ontology/cerif#has_eastBoundaryLongitude> ?east.\\n?GBB <http://eurocris.org/ontology/cerif#has_westBoundaryLongitude> ?west.\\n?GBB <http://eurocris.org/ontology/cerif#has_northBoundaryLatitude> ?north.\\n?GBB <http://eurocris.org/ontology/cerif#has_southBoundaryLatitude> ?south.\\nFILTER(xsd:float(?east) <= @#$%EAST%$#@ && xsd:float(?west) >= @#$%WEST%$#@ && xsd:float(?north) <= @#$%NORTH%$#@ && xsd:float(?south) >= @#$%SOUTH%$#@)\\n?name bds:search \\\"@#$%TERM%$#@\\\".\\n?name bds:relevance ?score.\\nOptional {\\n?object cerif:is_destination_of ?FLE3.\\n?FLE3 cerif:has_classification <http://139.91.183.70:8090/vre4eic/Classification.Responsible>.\\noptional {\\n?FLE3 cerif:has_source ?OUorP. ?OUorP cerif:has_name ?nameOUorP.\\noptional{\\n?OUorP <http://eurocris.org/ontology/cerif#is_source_of> ?FLE4.?FLE4 <http://eurocris.org/ontology/cerif#has_destination> ?OU. ?OU cerif:has_name ?nameOU.\\n}\\n}\\n}\\nbind(coalesce(?nameOU, ?nameOUorP) as ?Responsible).\\n} ORDER BY desc(?score) \\n\"},\"selection_list\":\"distinct ?name  ?Responsible ?Service (?@#$%VAR%$#@ as ?uri)\",\"uri\":\"http://eurocris.org/ontology/cerif#Product\",\"var_name\":\"prod\"},\"searchTargetKeywords\":\"test\",\"selectedTargetRecomentation\":null,\"targetChips\":[]},\"relatedModels\":[{\"id\":0,\"level\":0,\"outerSelectedFilterExpression\":\"\",\"selectedRelation\":null,\"rangeOfDates\":{\"from\":null,\"fromInputName\":\"\",\"until\":null,\"untilInputName\":\"\"},\"selectedRelatedEntity\":null,\"searchRelatedKeywords\":\"\",\"allRelatedSearchResultsIsSelected\":true,\"allRelatedEntitiesSelectedList\":[{\"name\":\"Search By Keyword\"}],\"selectedRelatedInstanceList\":[],\"shownEntitySearchResults\":false,\"selectedRecomentation\":null,\"relatedChips\":[],\"relatedEntitySearchText\":\"\",\"rowModelList\":[],\"activeRelatedSearchResultsStyle\":\"disabled-style\",\"activeRowModelStyle\":\"disabled-style\"}]}}";
        //UNIONS
        //Person -> OrgUnit -> (Project or Person)
        json = "{\"queryFrom\":\"from <http://ekt-data> from <http://rcuk-data> from <http://fris-data> from <http://epos-data> from <http://envri-data> \",\"queryModel\":{\"targetModel\":{\"selectedTargetEntity\":{\"selection_pattern\":\"?@#$%VAR%$#@  <http://eurocris.org/ontology/cerif#is_source_of> ?FLES.\\n?FLES <http://eurocris.org/ontology/cerif#has_destination> ?Ser.\\n?FLES <http://eurocris.org/ontology/cerif#has_classification> <http://139.91.183.70:8090/vre4eic/Classification.provenance>.  \\n?Ser <http://eurocris.org/ontology/cerif#has_acronym> ?Service.\\n?@#$%VAR%$#@ rdfs:label ?persName. \\n\",\"keyword_search\":\"?@#$%VAR%$#@ rdfs:label ?persName. \\n?persName bds:search \\\"@#$%TERM%$#@\\\".\",\"geospatial\":\"FALSE\",\"thesaurus\":\"thesaurus/persons-firstAndLastNames.json\",\"name\":\"Person\",\"id\":1,\"queryModel\":{\"geo_query\":\"\",\"query\":\"PREFIX cerif:<http://eurocris.org/ontology/cerif#>\\nselect distinct ?persName ?Service (?pers as ?uri) @#$%FROM%$#@\\nwhere {\\n?pers <http://eurocris.org/ontology/cerif#is_source_of> ?FLES.  \\n?FLES <http://eurocris.org/ontology/cerif#has_destination> ?Ser.  \\n?FLES cerif:has_classification <http://139.91.183.70:8090/vre4eic/Classification.provenance>.  \\n?Ser cerif:has_acronym ?Service.\\n?pers a cerif:Person.  \\n?pers rdfs:label ?persName. \\n?persName bds:search \\\"@#$%TERM%$#@\\\".  \\n?persName bds:relevance ?score. \\n}  ORDER BY desc(?score) ?pers \\n\",\"format\":\"application/json\",\"text_geo_query\":\"\"},\"selection_list\":\"distinct (?persName as ?name) ?Service (?@#$%VAR%$#@ as ?uri)\",\"uri\":\"http://eurocris.org/ontology/cerif#Person\",\"var_name\":\"pers\"},\"searchTargetKeywords\":\"\",\"selectedTargetRecomentation\":null,\"targetChips\":[]},\"relatedModels\":[{\"id\":0,\"level\":0,\"outerSelectedFilterExpression\":\"\",\"selectedRelation\":{\"name\":\"is member of\",\"uri\":\"http://eurocris.org/ontology/cerif#Person-OrganisationUnit/is%20member%20of\"},\"rangeOfDates\":{\"from\":null,\"fromInputName\":\"\",\"until\":null,\"untilInputName\":\"\"},\"selectedRelatedEntity\":{\"selection_pattern\":\"?@#$%VAR%$#@ <http://eurocris.org/ontology/cerif#is_source_of> ?FLES.\\n?FLES <http://eurocris.org/ontology/cerif#has_destination> ?Ser.\\n?FLES <http://eurocris.org/ontology/cerif#has_classification> <http://139.91.183.70:8090/vre4eic/Classification.provenance>.\\n?Ser <http://eurocris.org/ontology/cerif#has_acronym> ?Service.\\n?@#$%VAR%$#@ <http://eurocris.org/ontology/cerif#has_name> ?orgName.\\n?@#$%VAR%$#@ <http://eurocris.org/ontology/cerif#has_acronym> ?orgAcronym.\",\"keyword_search\":\"?@#$%VAR%$#@ <http://eurocris.org/ontology/cerif#has_name> ?orgName.\\n?orgName bds:search \\\"@#$%TERM%$#@\\\".\",\"geospatial\":true,\"thesaurus\":\"thesaurus/organizationUnits-acronyms.json\",\"name\":\"OrganisationUnit\",\"id\":2,\"queryModel\":{\"geo_query\":\"PREFIX cerif:<http://eurocris.org/ontology/cerif#> \\nselect distinct (?orgName as ?name) (?orgAcronym as ?acronym) ?Service (?org as ?uri) ?east ?west ?north ?south @#$%FROM%$#@ \\nwhere {\\n?org <http://eurocris.org/ontology/cerif#is_source_of> ?FLES.\\n?FLES <http://eurocris.org/ontology/cerif#has_destination> ?Ser.\\n?FLES cerif:has_classification <http://139.91.183.70:8090/vre4eic/Classification.provenance>.\\n?Ser cerif:has_acronym ?Service.\\n?org a cerif:OrganisationUnit.\\n?org cerif:has_name ?orgName.\\n?org cerif:has_acronym ?orgAcronym.\\n?org <http://eurocris.org/ontology/cerif#is_source_of> ?FLE1.\\n?FLE1 <http://eurocris.org/ontology/cerif#has_destination> ?PA.\\n?PA <http://eurocris.org/ontology/cerif#is_source_of> ?FLE2.\\n?FLE2 <http://eurocris.org/ontology/cerif#has_destination> ?GBB.\\n?GBB <http://eurocris.org/ontology/cerif#has_eastBoundaryLongitude> ?east.\\n?GBB <http://eurocris.org/ontology/cerif#has_westBoundaryLongitude> ?west.\\n?GBB <http://eurocris.org/ontology/cerif#has_northBoundaryLatitude> ?north.\\n?GBB <http://eurocris.org/ontology/cerif#has_southBoundaryLatitude> ?south.\\nFILTER(xsd:float(?east) <= @#$%EAST%$#@ && xsd:float(?west) >= @#$%WEST%$#@ && xsd:float(?north) <= @#$%NORTH%$#@ && xsd:float(?south) >= @#$%SOUTH%$#@)\\n}\",\"query\":\"PREFIX cerif:<http://eurocris.org/ontology/cerif#>\\nselect distinct (?orgName as ?name) (?orgAcronym as ?acronym) ?Service (?org as ?uri) @#$%FROM%$#@ \\nwhere {\\n?org <http://eurocris.org/ontology/cerif#is_source_of> ?FLES.\\n?FLES <http://eurocris.org/ontology/cerif#has_destination> ?Ser.\\n?FLES cerif:has_classification <http://139.91.183.70:8090/vre4eic/Classification.provenance>.\\n?Ser cerif:has_acronym ?Service.\\n?org a cerif:OrganisationUnit.\\n?org cerif:has_name ?orgName.\\n?org cerif:has_acronym ?orgAcronym.\\n?orgName bds:search \\\"@#$%TERM%$#@\\\".\\n?orgName bds:relevance ?score.\\n}ORDER BY desc(?score) \\n\",\"format\":\"application/json\",\"text_geo_query\":\"PREFIX cerif:<http://eurocris.org/ontology/cerif#> \\nselect distinct (?orgName as ?name) (?orgAcronym as ?acronym) ?Service (?org as ?uri) ?east ?west ?north ?south @#$%FROM%$#@ \\nwhere {\\n?org <http://eurocris.org/ontology/cerif#is_source_of> ?FLES.\\n?FLES <http://eurocris.org/ontology/cerif#has_destination> ?Ser.\\n?FLES cerif:has_classification <http://139.91.183.70:8090/vre4eic/Classification.provenance>.\\n?Ser cerif:has_acronym ?Service.\\n?org a cerif:OrganisationUnit.\\n?org cerif:has_name ?orgName.\\n?org cerif:has_acronym ?orgAcronym.\\n?org <http://eurocris.org/ontology/cerif#is_source_of> ?FLE1.\\n?FLE1 <http://eurocris.org/ontology/cerif#has_destination> ?PA.\\n?PA <http://eurocris.org/ontology/cerif#is_source_of> ?FLE2.\\n?FLE2 <http://eurocris.org/ontology/cerif#has_destination> ?GBB.\\n?GBB <http://eurocris.org/ontology/cerif#has_eastBoundaryLongitude> ?east.\\n?GBB <http://eurocris.org/ontology/cerif#has_westBoundaryLongitude> ?west.\\n?GBB <http://eurocris.org/ontology/cerif#has_northBoundaryLatitude> ?north.\\n?GBB <http://eurocris.org/ontology/cerif#has_southBoundaryLatitude> ?south.\\nFILTER(xsd:float(?east) <= @#$%EAST%$#@ && xsd:float(?west) >= @#$%WEST%$#@ && xsd:float(?north) <= @#$%NORTH%$#@ && xsd:float(?south) >= @#$%SOUTH%$#@)\\n?orgName bds:search \\\"@#$%TERM%$#@\\\".\\n?orgName bds:relevance ?score.\\n}ORDER BY desc(?score) \\n\"},\"selection_list\":\"distinct (?orgName as ?name) (?orgAcronym as ?acronym) ?Service (?@#$%VAR%$#@ as ?uri)\",\"uri\":\"http://eurocris.org/ontology/cerif#OrganisationUnit\",\"var_name\":\"org\"},\"searchRelatedKeywords\":\"\",\"allRelatedSearchResultsIsSelected\":true,\"allRelatedEntitiesSelectedList\":[{\"name\":\"Search By Keyword\"}],\"selectedRelatedInstanceList\":[],\"shownEntitySearchResults\":false,\"selectedRecomentation\":null,\"relatedChips\":[],\"relatedEntitySearchText\":\"\",\"rowModelList\":[{\"id\":3,\"level\":1,\"outerSelectedFilterExpression\":\"\",\"selectedRelation\":{\"name\":\"is participant in\",\"uri\":\"http://eurocris.org/ontology/cerif#OrganisationUnit-Project/is%20participant%20in\"},\"rangeOfDates\":{\"from\":null,\"fromInputName\":\"\",\"until\":null,\"untilInputName\":\"\"},\"selectedRelatedEntity\":{\"selection_pattern\":\"?@#$%VAR%$#@ <http://eurocris.org/ontology/cerif#is_source_of> ?FLES.\\n?FLES <http://eurocris.org/ontology/cerif#has_destination> ?Ser.\\n?FLES <http://eurocris.org/ontology/cerif#has_classification> <http://139.91.183.70:8090/vre4eic/Classification.provenance>.\\n?Ser <http://eurocris.org/ontology/cerif#has_acronym> ?Service.\\n?@#$%VAR%$#@ <http://eurocris.org/ontology/cerif#has_title> ?projectTitle.\\nOPTIONAL {?@#$%VAR%$#@ <http://eurocris.org/ontology/cerif#has_URI> ?projURI.}\\nBIND(if(bound(?projURI),?projURI,?proj) as ?@#$%VAR%$#@).\\n?@#$%VAR%$#@ <http://eurocris.org/ontology/cerif#has_acronym> ?projectAcronym.\\n?@#$%VAR%$#@ rdfs:label ?projName.\\n\",\"keyword_search\":\"?@#$%VAR%$#@ rdfs:label ?projName.\\n?projName bds:search \\\"@#$%TERM%$#@\\\".\",\"geospatial\":\"FALSE\",\"thesaurus\":\"thesaurus/project-acronyms.json\",\"name\":\"Project\",\"id\":8,\"queryModel\":{\"geo_query\":\"\",\"query\":\"PREFIX cerif:<http://eurocris.org/ontology/cerif#>\\nselect distinct (?projectTitle as ?title) ?projectAcronym ?Service (?proj as ?uri) @#$%FROM%$#@ \\nwhere {\\n?proj <http://eurocris.org/ontology/cerif#is_source_of> ?FLES.\\n?FLES <http://eurocris.org/ontology/cerif#has_destination> ?Ser.\\n?FLES cerif:has_classification <http://139.91.183.70:8090/vre4eic/Classification.provenance>.\\n?Ser cerif:has_acronym ?Service.\\n?proj a cerif:Project.\\n?proj cerif:has_title ?projectTitle.\\nOPTIONAL {?proj cerif:has_URI ?projURI.}\\nBIND(if(bound(?projURI),?projURI,?proj) as ?projectURI).\\n?proj cerif:has_acronym ?projectAcronym.\\n?proj rdfs:label ?projName.\\n?projName bds:search \\\"@#$%TERM%$#@\\\".\\n?projName bds:relevance ?score \\n} ORDER BY desc(?score) \\n\",\"format\":\"application/json\",\"text_geo_query\":\"\"},\"selection_list\":\"distinct (?projectTitle as ?title) (?projName as ?name) (?projectAcronym as ?acronym) ?Service (?@#$%VAR%$#@ as ?uri)\",\"uri\":\"http://eurocris.org/ontology/cerif#Project\",\"var_name\":\"proj\"},\"searchRelatedKeywords\":\"\",\"allRelatedSearchResultsIsSelected\":true,\"allRelatedEntitiesSelectedList\":[{\"name\":\"Search By Keyword\"}],\"selectedRelatedInstanceList\":[],\"shownEntitySearchResults\":false,\"selectedRecomentation\":null,\"relatedChips\":[],\"relatedEntitySearchText\":\"\",\"rowModelList\":[],\"activeRelatedSearchResultsStyle\":\"disabled-style\",\"activeRowModelStyle\":\"enabled-style\"},{\"id\":5,\"level\":1,\"outerSelectedFilterExpression\":\"OR\",\"selectedRelation\":{\"name\":\"is coordinator of\",\"uri\":\"http://eurocris.org/ontology/cerif#OrganisationUnit-Project/is%20coordinator%20of\"},\"rangeOfDates\":{\"from\":null,\"fromInputName\":\"\",\"until\":null,\"untilInputName\":\"\"},\"selectedRelatedEntity\":{\"selection_pattern\":\"?@#$%VAR%$#@ <http://eurocris.org/ontology/cerif#is_source_of> ?FLES.\\n?FLES <http://eurocris.org/ontology/cerif#has_destination> ?Ser.\\n?FLES <http://eurocris.org/ontology/cerif#has_classification> <http://139.91.183.70:8090/vre4eic/Classification.provenance>.\\n?Ser <http://eurocris.org/ontology/cerif#has_acronym> ?Service.\\n?@#$%VAR%$#@ <http://eurocris.org/ontology/cerif#has_title> ?projectTitle.\\nOPTIONAL {?@#$%VAR%$#@ <http://eurocris.org/ontology/cerif#has_URI> ?projURI.}\\nBIND(if(bound(?projURI),?projURI,?proj) as ?@#$%VAR%$#@).\\n?@#$%VAR%$#@ <http://eurocris.org/ontology/cerif#has_acronym> ?projectAcronym.\\n?@#$%VAR%$#@ rdfs:label ?projName.\\n\",\"keyword_search\":\"?@#$%VAR%$#@ rdfs:label ?projName.\\n?projName bds:search \\\"@#$%TERM%$#@\\\".\",\"geospatial\":\"FALSE\",\"thesaurus\":\"thesaurus/project-acronyms.json\",\"name\":\"Project\",\"id\":8,\"queryModel\":{\"geo_query\":\"\",\"query\":\"PREFIX cerif:<http://eurocris.org/ontology/cerif#>\\nselect distinct (?projectTitle as ?title) ?projectAcronym ?Service (?proj as ?uri) @#$%FROM%$#@ \\nwhere {\\n?proj <http://eurocris.org/ontology/cerif#is_source_of> ?FLES.\\n?FLES <http://eurocris.org/ontology/cerif#has_destination> ?Ser.\\n?FLES cerif:has_classification <http://139.91.183.70:8090/vre4eic/Classification.provenance>.\\n?Ser cerif:has_acronym ?Service.\\n?proj a cerif:Project.\\n?proj cerif:has_title ?projectTitle.\\nOPTIONAL {?proj cerif:has_URI ?projURI.}\\nBIND(if(bound(?projURI),?projURI,?proj) as ?projectURI).\\n?proj cerif:has_acronym ?projectAcronym.\\n?proj rdfs:label ?projName.\\n?projName bds:search \\\"@#$%TERM%$#@\\\".\\n?projName bds:relevance ?score \\n} ORDER BY desc(?score) \\n\",\"format\":\"application/json\",\"text_geo_query\":\"\"},\"selection_list\":\"distinct (?projectTitle as ?title) (?projName as ?name) (?projectAcronym as ?acronym) ?Service (?@#$%VAR%$#@ as ?uri)\",\"uri\":\"http://eurocris.org/ontology/cerif#Project\",\"var_name\":\"proj\"},\"searchRelatedKeywords\":\"\",\"allRelatedSearchResultsIsSelected\":true,\"allRelatedEntitiesSelectedList\":[{\"name\":\"Search By Keyword\"}],\"selectedRelatedInstanceList\":[],\"shownEntitySearchResults\":false,\"selectedRecomentation\":null,\"relatedChips\":[],\"relatedEntitySearchText\":\"\",\"rowModelList\":[],\"activeRelatedSearchResultsStyle\":\"disabled-style\",\"activeRowModelStyle\":\"enabled-style\"}],\"activeRelatedSearchResultsStyle\":\"disabled-style\",\"activeRowModelStyle\":\"enabled-style\"}]}}";

//        Person -> OrgUnit or Publication
//        json = "{\"queryFrom\":\"from <http://ekt-data> from <http://rcuk-data> from <http://fris-data> from <http://epos-data> from <http://envri-data> \",\"queryModel\":{\"targetModel\":{\"selectedTargetEntity\":{\"selection_pattern\":\"?@#$%VAR%$#@  <http://eurocris.org/ontology/cerif#is_source_of> ?FLES.\\n?FLES <http://eurocris.org/ontology/cerif#has_destination> ?Ser.\\n?FLES <http://eurocris.org/ontology/cerif#has_classification> <http://139.91.183.70:8090/vre4eic/Classification.provenance>.  \\n?Ser <http://eurocris.org/ontology/cerif#has_acronym> ?Service.\\n?@#$%VAR%$#@ rdfs:label ?persName. \\n\",\"keyword_search\":\"?@#$%VAR%$#@ rdfs:label ?persName. \\n?persName bds:search \\\"@#$%TERM%$#@\\\".\",\"geospatial\":\"FALSE\",\"thesaurus\":\"thesaurus/persons-firstAndLastNames.json\",\"name\":\"Person\",\"id\":1,\"queryModel\":{\"geo_query\":\"\",\"query\":\"PREFIX cerif:<http://eurocris.org/ontology/cerif#>\\nselect distinct ?persName ?Service (?pers as ?uri) @#$%FROM%$#@\\nwhere {\\n?pers <http://eurocris.org/ontology/cerif#is_source_of> ?FLES.  \\n?FLES <http://eurocris.org/ontology/cerif#has_destination> ?Ser.  \\n?FLES cerif:has_classification <http://139.91.183.70:8090/vre4eic/Classification.provenance>.  \\n?Ser cerif:has_acronym ?Service.\\n?pers a cerif:Person.  \\n?pers rdfs:label ?persName. \\n?persName bds:search \\\"@#$%TERM%$#@\\\".  \\n?persName bds:relevance ?score. \\n}  ORDER BY desc(?score) ?pers \\n\",\"format\":\"application/json\",\"text_geo_query\":\"\"},\"selection_list\":\"distinct ?persName ?Service (?@#$%VAR%$#@ as ?uri)\",\"uri\":\"http://eurocris.org/ontology/cerif#Person\",\"var_name\":\"pers\"},\"searchTargetKeywords\":\"\",\"selectedTargetRecomentation\":null,\"targetChips\":[]},\"relatedModels\":[{\"id\":0,\"level\":0,\"outerSelectedFilterExpression\":\"\",\"selectedRelation\":{\"name\":\"is member of\",\"uri\":\"http://eurocris.org/ontology/cerif#Person-OrganisationUnit/is%20member%20of\"},\"rangeOfDates\":{\"from\":null,\"fromInputName\":\"\",\"until\":null,\"untilInputName\":\"\"},\"selectedRelatedEntity\":{\"selection_pattern\":\"?@#$%VAR%$#@ <http://eurocris.org/ontology/cerif#is_source_of> ?FLES.\\n?FLES <http://eurocris.org/ontology/cerif#has_destination> ?Ser.\\n?FLES <http://eurocris.org/ontology/cerif#has_classification> <http://139.91.183.70:8090/vre4eic/Classification.provenance>.\\n?Ser <http://eurocris.org/ontology/cerif#has_acronym> ?Service.\\n?@#$%VAR%$#@ <http://eurocris.org/ontology/cerif#has_name> ?orgName.\\n?@#$%VAR%$#@ <http://eurocris.org/ontology/cerif#has_acronym> ?orgAcronym.\",\"keyword_search\":\"?@#$%VAR%$#@ <http://eurocris.org/ontology/cerif#has_name> ?orgName.\\n?orgName bds:search \\\"@#$%TERM%$#@\\\".\",\"geospatial\":true,\"thesaurus\":\"thesaurus/organizationUnits-acronyms.json\",\"name\":\"OrganisationUnit\",\"id\":2,\"queryModel\":{\"geo_query\":\"PREFIX cerif:<http://eurocris.org/ontology/cerif#> \\nselect distinct (?orgName as ?name) (?orgAcronym as ?acronym) ?Service (?org as ?uri) ?east ?west ?north ?south @#$%FROM%$#@ \\nwhere {\\n?org <http://eurocris.org/ontology/cerif#is_source_of> ?FLES.\\n?FLES <http://eurocris.org/ontology/cerif#has_destination> ?Ser.\\n?FLES cerif:has_classification <http://139.91.183.70:8090/vre4eic/Classification.provenance>.\\n?Ser cerif:has_acronym ?Service.\\n?org a cerif:OrganisationUnit.\\n?org cerif:has_name ?orgName.\\n?org cerif:has_acronym ?orgAcronym.\\n?org <http://eurocris.org/ontology/cerif#is_source_of> ?FLE1.\\n?FLE1 <http://eurocris.org/ontology/cerif#has_destination> ?PA.\\n?PA <http://eurocris.org/ontology/cerif#is_source_of> ?FLE2.\\n?FLE2 <http://eurocris.org/ontology/cerif#has_destination> ?GBB.\\n?GBB <http://eurocris.org/ontology/cerif#has_eastBoundaryLongitude> ?east.\\n?GBB <http://eurocris.org/ontology/cerif#has_westBoundaryLongitude> ?west.\\n?GBB <http://eurocris.org/ontology/cerif#has_northBoundaryLatitude> ?north.\\n?GBB <http://eurocris.org/ontology/cerif#has_southBoundaryLatitude> ?south.\\nFILTER(xsd:float(?east) <= @#$%EAST%$#@ && xsd:float(?west) >= @#$%WEST%$#@ && xsd:float(?north) <= @#$%NORTH%$#@ && xsd:float(?south) >= @#$%SOUTH%$#@)\\n}\",\"query\":\"PREFIX cerif:<http://eurocris.org/ontology/cerif#>\\nselect distinct (?orgName as ?name) (?orgAcronym as ?acronym) ?Service (?org as ?uri) @#$%FROM%$#@ \\nwhere {\\n?org <http://eurocris.org/ontology/cerif#is_source_of> ?FLES.\\n?FLES <http://eurocris.org/ontology/cerif#has_destination> ?Ser.\\n?FLES cerif:has_classification <http://139.91.183.70:8090/vre4eic/Classification.provenance>.\\n?Ser cerif:has_acronym ?Service.\\n?org a cerif:OrganisationUnit.\\n?org cerif:has_name ?orgName.\\n?org cerif:has_acronym ?orgAcronym.\\n?orgName bds:search \\\"@#$%TERM%$#@\\\".\\n?orgName bds:relevance ?score.\\n}ORDER BY desc(?score) \\n\",\"format\":\"application/json\",\"text_geo_query\":\"PREFIX cerif:<http://eurocris.org/ontology/cerif#> \\nselect distinct (?orgName as ?name) (?orgAcronym as ?acronym) ?Service (?org as ?uri) ?east ?west ?north ?south @#$%FROM%$#@ \\nwhere {\\n?org <http://eurocris.org/ontology/cerif#is_source_of> ?FLES.\\n?FLES <http://eurocris.org/ontology/cerif#has_destination> ?Ser.\\n?FLES cerif:has_classification <http://139.91.183.70:8090/vre4eic/Classification.provenance>.\\n?Ser cerif:has_acronym ?Service.\\n?org a cerif:OrganisationUnit.\\n?org cerif:has_name ?orgName.\\n?org cerif:has_acronym ?orgAcronym.\\n?org <http://eurocris.org/ontology/cerif#is_source_of> ?FLE1.\\n?FLE1 <http://eurocris.org/ontology/cerif#has_destination> ?PA.\\n?PA <http://eurocris.org/ontology/cerif#is_source_of> ?FLE2.\\n?FLE2 <http://eurocris.org/ontology/cerif#has_destination> ?GBB.\\n?GBB <http://eurocris.org/ontology/cerif#has_eastBoundaryLongitude> ?east.\\n?GBB <http://eurocris.org/ontology/cerif#has_westBoundaryLongitude> ?west.\\n?GBB <http://eurocris.org/ontology/cerif#has_northBoundaryLatitude> ?north.\\n?GBB <http://eurocris.org/ontology/cerif#has_southBoundaryLatitude> ?south.\\nFILTER(xsd:float(?east) <= @#$%EAST%$#@ && xsd:float(?west) >= @#$%WEST%$#@ && xsd:float(?north) <= @#$%NORTH%$#@ && xsd:float(?south) >= @#$%SOUTH%$#@)\\n?orgName bds:search \\\"@#$%TERM%$#@\\\".\\n?orgName bds:relevance ?score.\\n}ORDER BY desc(?score) \\n\"},\"selection_list\":\"distinct (?orgName as ?name) (?orgAcronym as ?acronym) ?Service (?@#$%VAR%$#@ as ?uri)\",\"uri\":\"http://eurocris.org/ontology/cerif#OrganisationUnit\",\"var_name\":\"org\"},\"searchRelatedKeywords\":\"\",\"allRelatedSearchResultsIsSelected\":false,\"allRelatedEntitiesSelectedList\":[{\"name\":\"All Instances Selected\"}],\"selectedRelatedInstanceList\":[],\"shownEntitySearchResults\":false,\"selectedRecomentation\":null,\"relatedChips\":[],\"relatedEntitySearchText\":\"\",\"rowModelList\":[],\"activeRelatedSearchResultsStyle\":\"enabled-style\",\"activeRowModelStyle\":\"enabled-style\"},{\"id\":1,\"level\":0,\"outerSelectedFilterExpression\":\"OR\",\"selectedRelation\":{\"name\":\"is head of department of\",\"uri\":\"http://eurocris.org/ontology/cerif#Person-OrganisationUnit/is%20head%20of%20department%20of\"},\"rangeOfDates\":{\"from\":null,\"fromInputName\":\"\",\"until\":null,\"untilInputName\":\"\"},\"selectedRelatedEntity\":{\"selection_pattern\":\"?@#$%VAR%$#@ <http://eurocris.org/ontology/cerif#is_source_of> ?FLES.\\n?FLES <http://eurocris.org/ontology/cerif#has_destination> ?Ser.\\n?FLES <http://eurocris.org/ontology/cerif#has_classification> <http://139.91.183.70:8090/vre4eic/Classification.provenance>.\\n?Ser <http://eurocris.org/ontology/cerif#has_acronym> ?Service.\\n?@#$%VAR%$#@ <http://eurocris.org/ontology/cerif#has_name> ?orgName.\\n?@#$%VAR%$#@ <http://eurocris.org/ontology/cerif#has_acronym> ?orgAcronym.\",\"keyword_search\":\"?@#$%VAR%$#@ <http://eurocris.org/ontology/cerif#has_name> ?orgName.\\n?orgName bds:search \\\"@#$%TERM%$#@\\\".\",\"geospatial\":true,\"thesaurus\":\"thesaurus/organizationUnits-acronyms.json\",\"name\":\"OrganisationUnit\",\"id\":2,\"queryModel\":{\"geo_query\":\"PREFIX cerif:<http://eurocris.org/ontology/cerif#> \\nselect distinct (?orgName as ?name) (?orgAcronym as ?acronym) ?Service (?org as ?uri) ?east ?west ?north ?south @#$%FROM%$#@ \\nwhere {\\n?org <http://eurocris.org/ontology/cerif#is_source_of> ?FLES.\\n?FLES <http://eurocris.org/ontology/cerif#has_destination> ?Ser.\\n?FLES cerif:has_classification <http://139.91.183.70:8090/vre4eic/Classification.provenance>.\\n?Ser cerif:has_acronym ?Service.\\n?org a cerif:OrganisationUnit.\\n?org cerif:has_name ?orgName.\\n?org cerif:has_acronym ?orgAcronym.\\n?org <http://eurocris.org/ontology/cerif#is_source_of> ?FLE1.\\n?FLE1 <http://eurocris.org/ontology/cerif#has_destination> ?PA.\\n?PA <http://eurocris.org/ontology/cerif#is_source_of> ?FLE2.\\n?FLE2 <http://eurocris.org/ontology/cerif#has_destination> ?GBB.\\n?GBB <http://eurocris.org/ontology/cerif#has_eastBoundaryLongitude> ?east.\\n?GBB <http://eurocris.org/ontology/cerif#has_westBoundaryLongitude> ?west.\\n?GBB <http://eurocris.org/ontology/cerif#has_northBoundaryLatitude> ?north.\\n?GBB <http://eurocris.org/ontology/cerif#has_southBoundaryLatitude> ?south.\\nFILTER(xsd:float(?east) <= @#$%EAST%$#@ && xsd:float(?west) >= @#$%WEST%$#@ && xsd:float(?north) <= @#$%NORTH%$#@ && xsd:float(?south) >= @#$%SOUTH%$#@)\\n}\",\"query\":\"PREFIX cerif:<http://eurocris.org/ontology/cerif#>\\nselect distinct (?orgName as ?name) (?orgAcronym as ?acronym) ?Service (?org as ?uri) @#$%FROM%$#@ \\nwhere {\\n?org <http://eurocris.org/ontology/cerif#is_source_of> ?FLES.\\n?FLES <http://eurocris.org/ontology/cerif#has_destination> ?Ser.\\n?FLES cerif:has_classification <http://139.91.183.70:8090/vre4eic/Classification.provenance>.\\n?Ser cerif:has_acronym ?Service.\\n?org a cerif:OrganisationUnit.\\n?org cerif:has_name ?orgName.\\n?org cerif:has_acronym ?orgAcronym.\\n?orgName bds:search \\\"@#$%TERM%$#@\\\".\\n?orgName bds:relevance ?score.\\n}ORDER BY desc(?score) \\n\",\"format\":\"application/json\",\"text_geo_query\":\"PREFIX cerif:<http://eurocris.org/ontology/cerif#> \\nselect distinct (?orgName as ?name) (?orgAcronym as ?acronym) ?Service (?org as ?uri) ?east ?west ?north ?south @#$%FROM%$#@ \\nwhere {\\n?org <http://eurocris.org/ontology/cerif#is_source_of> ?FLES.\\n?FLES <http://eurocris.org/ontology/cerif#has_destination> ?Ser.\\n?FLES cerif:has_classification <http://139.91.183.70:8090/vre4eic/Classification.provenance>.\\n?Ser cerif:has_acronym ?Service.\\n?org a cerif:OrganisationUnit.\\n?org cerif:has_name ?orgName.\\n?org cerif:has_acronym ?orgAcronym.\\n?org <http://eurocris.org/ontology/cerif#is_source_of> ?FLE1.\\n?FLE1 <http://eurocris.org/ontology/cerif#has_destination> ?PA.\\n?PA <http://eurocris.org/ontology/cerif#is_source_of> ?FLE2.\\n?FLE2 <http://eurocris.org/ontology/cerif#has_destination> ?GBB.\\n?GBB <http://eurocris.org/ontology/cerif#has_eastBoundaryLongitude> ?east.\\n?GBB <http://eurocris.org/ontology/cerif#has_westBoundaryLongitude> ?west.\\n?GBB <http://eurocris.org/ontology/cerif#has_northBoundaryLatitude> ?north.\\n?GBB <http://eurocris.org/ontology/cerif#has_southBoundaryLatitude> ?south.\\nFILTER(xsd:float(?east) <= @#$%EAST%$#@ && xsd:float(?west) >= @#$%WEST%$#@ && xsd:float(?north) <= @#$%NORTH%$#@ && xsd:float(?south) >= @#$%SOUTH%$#@)\\n?orgName bds:search \\\"@#$%TERM%$#@\\\".\\n?orgName bds:relevance ?score.\\n}ORDER BY desc(?score) \\n\"},\"selection_list\":\"distinct (?orgName as ?name) (?orgAcronym as ?acronym) ?Service (?@#$%VAR%$#@ as ?uri)\",\"uri\":\"http://eurocris.org/ontology/cerif#OrganisationUnit\",\"var_name\":\"org\"},\"searchRelatedKeywords\":\"\",\"allRelatedSearchResultsIsSelected\":false,\"allRelatedEntitiesSelectedList\":[{\"name\":\"All Instances Selected\"}],\"selectedRelatedInstanceList\":[],\"shownEntitySearchResults\":false,\"selectedRecomentation\":null,\"relatedChips\":[],\"relatedEntitySearchText\":\"\",\"rowModelList\":[],\"activeRelatedSearchResultsStyle\":\"enabled-style\",\"activeRowModelStyle\":\"enabled-style\"}]}}";
        //Person -> OrgUnit or OrgUnit and Project
//        json = "{\"queryFrom\":\"from <http://ekt-data> from <http://rcuk-data> from <http://fris-data> from <http://epos-data> from <http://envri-data> \",\"queryModel\":{\"targetModel\":{\"selectedTargetEntity\":{\"selection_pattern\":\"?@#$%VAR%$#@  <http://eurocris.org/ontology/cerif#is_source_of> ?FLES.\\n?FLES <http://eurocris.org/ontology/cerif#has_destination> ?Ser.\\n?FLES <http://eurocris.org/ontology/cerif#has_classification> <http://139.91.183.70:8090/vre4eic/Classification.provenance>.  \\n?Ser <http://eurocris.org/ontology/cerif#has_acronym> ?Service.\\n?@#$%VAR%$#@ rdfs:label ?persName. \\n\",\"keyword_search\":\"?@#$%VAR%$#@ rdfs:label ?persName. \\n?persName bds:search \\\"@#$%TERM%$#@\\\".\",\"geospatial\":\"FALSE\",\"thesaurus\":\"thesaurus/persons-firstAndLastNames.json\",\"name\":\"Person\",\"id\":1,\"queryModel\":{\"geo_query\":\"\",\"query\":\"PREFIX cerif:<http://eurocris.org/ontology/cerif#>\\nselect distinct ?persName ?Service (?pers as ?uri) @#$%FROM%$#@\\nwhere {\\n?pers <http://eurocris.org/ontology/cerif#is_source_of> ?FLES.  \\n?FLES <http://eurocris.org/ontology/cerif#has_destination> ?Ser.  \\n?FLES cerif:has_classification <http://139.91.183.70:8090/vre4eic/Classification.provenance>.  \\n?Ser cerif:has_acronym ?Service.\\n?pers a cerif:Person.  \\n?pers rdfs:label ?persName. \\n?persName bds:search \\\"@#$%TERM%$#@\\\".  \\n?persName bds:relevance ?score. \\n}  ORDER BY desc(?score) ?pers \\n\",\"format\":\"application/json\",\"text_geo_query\":\"\"},\"selection_list\":\"distinct ?persName ?Service (?@#$%VAR%$#@ as ?uri)\",\"uri\":\"http://eurocris.org/ontology/cerif#Person\",\"var_name\":\"pers\"},\"searchTargetKeywords\":\"\",\"selectedTargetRecomentation\":null,\"targetChips\":[]},\"relatedModels\":[{\"id\":0,\"level\":0,\"outerSelectedFilterExpression\":\"\",\"selectedRelation\":{\"name\":\"is member of\",\"uri\":\"http://eurocris.org/ontology/cerif#Person-OrganisationUnit/is%20member%20of\"},\"rangeOfDates\":{\"from\":null,\"fromInputName\":\"\",\"until\":null,\"untilInputName\":\"\"},\"selectedRelatedEntity\":{\"selection_pattern\":\"?@#$%VAR%$#@ <http://eurocris.org/ontology/cerif#is_source_of> ?FLES.\\n?FLES <http://eurocris.org/ontology/cerif#has_destination> ?Ser.\\n?FLES <http://eurocris.org/ontology/cerif#has_classification> <http://139.91.183.70:8090/vre4eic/Classification.provenance>.\\n?Ser <http://eurocris.org/ontology/cerif#has_acronym> ?Service.\\n?@#$%VAR%$#@ <http://eurocris.org/ontology/cerif#has_name> ?orgName.\\n?@#$%VAR%$#@ <http://eurocris.org/ontology/cerif#has_acronym> ?orgAcronym.\",\"keyword_search\":\"?@#$%VAR%$#@ <http://eurocris.org/ontology/cerif#has_name> ?orgName.\\n?orgName bds:search \\\"@#$%TERM%$#@\\\".\",\"geospatial\":true,\"thesaurus\":\"thesaurus/organizationUnits-acronyms.json\",\"name\":\"OrganisationUnit\",\"id\":2,\"queryModel\":{\"geo_query\":\"PREFIX cerif:<http://eurocris.org/ontology/cerif#> \\nselect distinct (?orgName as ?name) (?orgAcronym as ?acronym) ?Service (?org as ?uri) ?east ?west ?north ?south @#$%FROM%$#@ \\nwhere {\\n?org <http://eurocris.org/ontology/cerif#is_source_of> ?FLES.\\n?FLES <http://eurocris.org/ontology/cerif#has_destination> ?Ser.\\n?FLES cerif:has_classification <http://139.91.183.70:8090/vre4eic/Classification.provenance>.\\n?Ser cerif:has_acronym ?Service.\\n?org a cerif:OrganisationUnit.\\n?org cerif:has_name ?orgName.\\n?org cerif:has_acronym ?orgAcronym.\\n?org <http://eurocris.org/ontology/cerif#is_source_of> ?FLE1.\\n?FLE1 <http://eurocris.org/ontology/cerif#has_destination> ?PA.\\n?PA <http://eurocris.org/ontology/cerif#is_source_of> ?FLE2.\\n?FLE2 <http://eurocris.org/ontology/cerif#has_destination> ?GBB.\\n?GBB <http://eurocris.org/ontology/cerif#has_eastBoundaryLongitude> ?east.\\n?GBB <http://eurocris.org/ontology/cerif#has_westBoundaryLongitude> ?west.\\n?GBB <http://eurocris.org/ontology/cerif#has_northBoundaryLatitude> ?north.\\n?GBB <http://eurocris.org/ontology/cerif#has_southBoundaryLatitude> ?south.\\nFILTER(xsd:float(?east) <= @#$%EAST%$#@ && xsd:float(?west) >= @#$%WEST%$#@ && xsd:float(?north) <= @#$%NORTH%$#@ && xsd:float(?south) >= @#$%SOUTH%$#@)\\n}\",\"query\":\"PREFIX cerif:<http://eurocris.org/ontology/cerif#>\\nselect distinct (?orgName as ?name) (?orgAcronym as ?acronym) ?Service (?org as ?uri) @#$%FROM%$#@ \\nwhere {\\n?org <http://eurocris.org/ontology/cerif#is_source_of> ?FLES.\\n?FLES <http://eurocris.org/ontology/cerif#has_destination> ?Ser.\\n?FLES cerif:has_classification <http://139.91.183.70:8090/vre4eic/Classification.provenance>.\\n?Ser cerif:has_acronym ?Service.\\n?org a cerif:OrganisationUnit.\\n?org cerif:has_name ?orgName.\\n?org cerif:has_acronym ?orgAcronym.\\n?orgName bds:search \\\"@#$%TERM%$#@\\\".\\n?orgName bds:relevance ?score.\\n}ORDER BY desc(?score) \\n\",\"format\":\"application/json\",\"text_geo_query\":\"PREFIX cerif:<http://eurocris.org/ontology/cerif#> \\nselect distinct (?orgName as ?name) (?orgAcronym as ?acronym) ?Service (?org as ?uri) ?east ?west ?north ?south @#$%FROM%$#@ \\nwhere {\\n?org <http://eurocris.org/ontology/cerif#is_source_of> ?FLES.\\n?FLES <http://eurocris.org/ontology/cerif#has_destination> ?Ser.\\n?FLES cerif:has_classification <http://139.91.183.70:8090/vre4eic/Classification.provenance>.\\n?Ser cerif:has_acronym ?Service.\\n?org a cerif:OrganisationUnit.\\n?org cerif:has_name ?orgName.\\n?org cerif:has_acronym ?orgAcronym.\\n?org <http://eurocris.org/ontology/cerif#is_source_of> ?FLE1.\\n?FLE1 <http://eurocris.org/ontology/cerif#has_destination> ?PA.\\n?PA <http://eurocris.org/ontology/cerif#is_source_of> ?FLE2.\\n?FLE2 <http://eurocris.org/ontology/cerif#has_destination> ?GBB.\\n?GBB <http://eurocris.org/ontology/cerif#has_eastBoundaryLongitude> ?east.\\n?GBB <http://eurocris.org/ontology/cerif#has_westBoundaryLongitude> ?west.\\n?GBB <http://eurocris.org/ontology/cerif#has_northBoundaryLatitude> ?north.\\n?GBB <http://eurocris.org/ontology/cerif#has_southBoundaryLatitude> ?south.\\nFILTER(xsd:float(?east) <= @#$%EAST%$#@ && xsd:float(?west) >= @#$%WEST%$#@ && xsd:float(?north) <= @#$%NORTH%$#@ && xsd:float(?south) >= @#$%SOUTH%$#@)\\n?orgName bds:search \\\"@#$%TERM%$#@\\\".\\n?orgName bds:relevance ?score.\\n}ORDER BY desc(?score) \\n\"},\"selection_list\":\"distinct (?orgName as ?name) (?orgAcronym as ?acronym) ?Service (?@#$%VAR%$#@ as ?uri)\",\"uri\":\"http://eurocris.org/ontology/cerif#OrganisationUnit\",\"var_name\":\"org\"},\"searchRelatedKeywords\":\"\",\"allRelatedSearchResultsIsSelected\":false,\"allRelatedEntitiesSelectedList\":[{\"name\":\"All Instances Selected\"}],\"selectedRelatedInstanceList\":[],\"shownEntitySearchResults\":false,\"selectedRecomentation\":null,\"relatedChips\":[],\"relatedEntitySearchText\":\"\",\"rowModelList\":[],\"activeRelatedSearchResultsStyle\":\"enabled-style\",\"activeRowModelStyle\":\"enabled-style\"},{\"id\":4,\"level\":0,\"outerSelectedFilterExpression\":\"OR\",\"selectedRelation\":{\"name\":\"is head of department of\",\"uri\":\"http://eurocris.org/ontology/cerif#Person-OrganisationUnit/is%20head%20of%20department%20of\"},\"rangeOfDates\":{\"from\":null,\"fromInputName\":\"\",\"until\":null,\"untilInputName\":\"\"},\"selectedRelatedEntity\":{\"selection_pattern\":\"?@#$%VAR%$#@ <http://eurocris.org/ontology/cerif#is_source_of> ?FLES.\\n?FLES <http://eurocris.org/ontology/cerif#has_destination> ?Ser.\\n?FLES <http://eurocris.org/ontology/cerif#has_classification> <http://139.91.183.70:8090/vre4eic/Classification.provenance>.\\n?Ser <http://eurocris.org/ontology/cerif#has_acronym> ?Service.\\n?@#$%VAR%$#@ <http://eurocris.org/ontology/cerif#has_name> ?orgName.\\n?@#$%VAR%$#@ <http://eurocris.org/ontology/cerif#has_acronym> ?orgAcronym.\",\"keyword_search\":\"?@#$%VAR%$#@ <http://eurocris.org/ontology/cerif#has_name> ?orgName.\\n?orgName bds:search \\\"@#$%TERM%$#@\\\".\",\"geospatial\":true,\"thesaurus\":\"thesaurus/organizationUnits-acronyms.json\",\"name\":\"OrganisationUnit\",\"id\":2,\"queryModel\":{\"geo_query\":\"PREFIX cerif:<http://eurocris.org/ontology/cerif#> \\nselect distinct (?orgName as ?name) (?orgAcronym as ?acronym) ?Service (?org as ?uri) ?east ?west ?north ?south @#$%FROM%$#@ \\nwhere {\\n?org <http://eurocris.org/ontology/cerif#is_source_of> ?FLES.\\n?FLES <http://eurocris.org/ontology/cerif#has_destination> ?Ser.\\n?FLES cerif:has_classification <http://139.91.183.70:8090/vre4eic/Classification.provenance>.\\n?Ser cerif:has_acronym ?Service.\\n?org a cerif:OrganisationUnit.\\n?org cerif:has_name ?orgName.\\n?org cerif:has_acronym ?orgAcronym.\\n?org <http://eurocris.org/ontology/cerif#is_source_of> ?FLE1.\\n?FLE1 <http://eurocris.org/ontology/cerif#has_destination> ?PA.\\n?PA <http://eurocris.org/ontology/cerif#is_source_of> ?FLE2.\\n?FLE2 <http://eurocris.org/ontology/cerif#has_destination> ?GBB.\\n?GBB <http://eurocris.org/ontology/cerif#has_eastBoundaryLongitude> ?east.\\n?GBB <http://eurocris.org/ontology/cerif#has_westBoundaryLongitude> ?west.\\n?GBB <http://eurocris.org/ontology/cerif#has_northBoundaryLatitude> ?north.\\n?GBB <http://eurocris.org/ontology/cerif#has_southBoundaryLatitude> ?south.\\nFILTER(xsd:float(?east) <= @#$%EAST%$#@ && xsd:float(?west) >= @#$%WEST%$#@ && xsd:float(?north) <= @#$%NORTH%$#@ && xsd:float(?south) >= @#$%SOUTH%$#@)\\n}\",\"query\":\"PREFIX cerif:<http://eurocris.org/ontology/cerif#>\\nselect distinct (?orgName as ?name) (?orgAcronym as ?acronym) ?Service (?org as ?uri) @#$%FROM%$#@ \\nwhere {\\n?org <http://eurocris.org/ontology/cerif#is_source_of> ?FLES.\\n?FLES <http://eurocris.org/ontology/cerif#has_destination> ?Ser.\\n?FLES cerif:has_classification <http://139.91.183.70:8090/vre4eic/Classification.provenance>.\\n?Ser cerif:has_acronym ?Service.\\n?org a cerif:OrganisationUnit.\\n?org cerif:has_name ?orgName.\\n?org cerif:has_acronym ?orgAcronym.\\n?orgName bds:search \\\"@#$%TERM%$#@\\\".\\n?orgName bds:relevance ?score.\\n}ORDER BY desc(?score) \\n\",\"format\":\"application/json\",\"text_geo_query\":\"PREFIX cerif:<http://eurocris.org/ontology/cerif#> \\nselect distinct (?orgName as ?name) (?orgAcronym as ?acronym) ?Service (?org as ?uri) ?east ?west ?north ?south @#$%FROM%$#@ \\nwhere {\\n?org <http://eurocris.org/ontology/cerif#is_source_of> ?FLES.\\n?FLES <http://eurocris.org/ontology/cerif#has_destination> ?Ser.\\n?FLES cerif:has_classification <http://139.91.183.70:8090/vre4eic/Classification.provenance>.\\n?Ser cerif:has_acronym ?Service.\\n?org a cerif:OrganisationUnit.\\n?org cerif:has_name ?orgName.\\n?org cerif:has_acronym ?orgAcronym.\\n?org <http://eurocris.org/ontology/cerif#is_source_of> ?FLE1.\\n?FLE1 <http://eurocris.org/ontology/cerif#has_destination> ?PA.\\n?PA <http://eurocris.org/ontology/cerif#is_source_of> ?FLE2.\\n?FLE2 <http://eurocris.org/ontology/cerif#has_destination> ?GBB.\\n?GBB <http://eurocris.org/ontology/cerif#has_eastBoundaryLongitude> ?east.\\n?GBB <http://eurocris.org/ontology/cerif#has_westBoundaryLongitude> ?west.\\n?GBB <http://eurocris.org/ontology/cerif#has_northBoundaryLatitude> ?north.\\n?GBB <http://eurocris.org/ontology/cerif#has_southBoundaryLatitude> ?south.\\nFILTER(xsd:float(?east) <= @#$%EAST%$#@ && xsd:float(?west) >= @#$%WEST%$#@ && xsd:float(?north) <= @#$%NORTH%$#@ && xsd:float(?south) >= @#$%SOUTH%$#@)\\n?orgName bds:search \\\"@#$%TERM%$#@\\\".\\n?orgName bds:relevance ?score.\\n}ORDER BY desc(?score) \\n\"},\"selection_list\":\"distinct (?orgName as ?name) (?orgAcronym as ?acronym) ?Service (?@#$%VAR%$#@ as ?uri)\",\"uri\":\"http://eurocris.org/ontology/cerif#OrganisationUnit\",\"var_name\":\"org\"},\"searchRelatedKeywords\":\"\",\"allRelatedSearchResultsIsSelected\":false,\"allRelatedEntitiesSelectedList\":[{\"name\":\"All Instances Selected\"}],\"selectedRelatedInstanceList\":[],\"shownEntitySearchResults\":false,\"selectedRecomentation\":null,\"relatedChips\":[],\"relatedEntitySearchText\":\"\",\"rowModelList\":[],\"activeRelatedSearchResultsStyle\":\"enabled-style\",\"activeRowModelStyle\":\"enabled-style\"},{\"id\":5,\"level\":0,\"outerSelectedFilterExpression\":\"AND\",\"selectedRelation\":{\"name\":\"is contact of\",\"uri\":\"http://eurocris.org/ontology/cerif#Person-Project/is%20contact%20of\"},\"rangeOfDates\":{\"from\":null,\"fromInputName\":\"\",\"until\":null,\"untilInputName\":\"\"},\"selectedRelatedEntity\":{\"selection_pattern\":\"?@#$%VAR%$#@ <http://eurocris.org/ontology/cerif#is_source_of> ?FLES.\\n?FLES <http://eurocris.org/ontology/cerif#has_destination> ?Ser.\\n?FLES <http://eurocris.org/ontology/cerif#has_classification> <http://139.91.183.70:8090/vre4eic/Classification.provenance>.\\n?Ser <http://eurocris.org/ontology/cerif#has_acronym> ?Service.\\n?@#$%VAR%$#@ <http://eurocris.org/ontology/cerif#has_title> ?projectTitle.\\nOPTIONAL {?@#$%VAR%$#@ <http://eurocris.org/ontology/cerif#has_URI> ?projURI.}\\nBIND(if(bound(?projURI),?projURI,?proj) as ?projectURI).\\n?@#$%VAR%$#@ <http://eurocris.org/ontology/cerif#has_acronym> ?projectAcronym.\\n?@#$%VAR%$#@ rdfs:label ?projName.\\n\",\"keyword_search\":\"?@#$%VAR%$#@ rdfs:label ?projName.\\n?projName bds:search \\\"@#$%TERM%$#@\\\".\",\"geospatial\":\"FALSE\",\"thesaurus\":\"thesaurus/project-acronyms.json\",\"name\":\"Project\",\"id\":7,\"queryModel\":{\"geo_query\":\"\",\"query\":\"PREFIX cerif:<http://eurocris.org/ontology/cerif#>\\nselect distinct (?projectTitle as ?title) ?projectAcronym ?Service (?proj as ?uri) @#$%FROM%$#@ \\nwhere {\\n?proj <http://eurocris.org/ontology/cerif#is_source_of> ?FLES.\\n?FLES <http://eurocris.org/ontology/cerif#has_destination> ?Ser.\\n?FLES cerif:has_classification <http://139.91.183.70:8090/vre4eic/Classification.provenance>.\\n?Ser cerif:has_acronym ?Service.\\n?proj a cerif:Project.\\n?proj cerif:has_title ?projectTitle.\\nOPTIONAL {?proj cerif:has_URI ?projURI.}\\nBIND(if(bound(?projURI),?projURI,?proj) as ?projectURI).\\n?proj cerif:has_acronym ?projectAcronym.\\n?proj rdfs:label ?projName.\\n?projName bds:search \\\"@#$%TERM%$#@\\\".\\n?projName bds:relevance ?score \\n} ORDER BY desc(?score) \\n\",\"format\":\"application/json\",\"text_geo_query\":\"\"},\"selection_list\":\"distinct (?projectTitle as ?title) ?projName ?projectAcronym ?Service (?@#$%VAR%$#@ as ?projectURI)\",\"uri\":\"http://eurocris.org/ontology/cerif#Project\",\"var_name\":\"proj\"},\"searchRelatedKeywords\":\"\",\"allRelatedSearchResultsIsSelected\":false,\"allRelatedEntitiesSelectedList\":[{\"name\":\"All Instances Selected\"}],\"selectedRelatedInstanceList\":[],\"shownEntitySearchResults\":false,\"selectedRecomentation\":null,\"relatedChips\":[],\"relatedEntitySearchText\":\"\",\"rowModelList\":[],\"activeRelatedSearchResultsStyle\":\"enabled-style\",\"activeRowModelStyle\":\"enabled-style\"}]}}";
        QueryDataModel model = new QueryDataModel(json);
//        System.out.println(json);
        System.out.println(model.toSPARQL());
//        TargetModel target = model.getTargetModel();
//        System.out.println(target);
//        List<RelatedModel> related = model.getRelatedModels();
//        for (RelatedModel relModel : related) {
//            System.out.println(relModel);
//        }
//        StringBuilder query = new StringBuilder();
//        query = query.append("select * ");
//        query.append(model.getSelectedGraphsClause() + " where {\n");
//        int pos = 0;
//        RelatedModel rel1 = model.getRelatedModels().get(pos);
//        String relVar = rel1.getRelatedVarName() + "_" + pos;
//        query.append("?targ <" + rel1.getRelationUri() + "> ?" + relVar + ".\n");
//        query.append(rel1.getKeywordSearchPattern(relVar) + "\n");
//        System.out.println(query);
    }

}
